
2025-03-28T08:48:40.642+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=397
2025-03-28T08:48:40.643+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:48:40.643+00:00 [INFO] Waiting for initial settings
2025-03-28T08:48:40.646+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:48:40.647+00:00 [INFO] Initial settings received
2025-03-28T08:48:40.647+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:48:40.673+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:48:40.693+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:48:40.706+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:48:40.706+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:48:40.713+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:48:40.887+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:48:40.887+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:48:40.887+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:48:40.887+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:48:40.887+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:48:41.095+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:48:41.234+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 50] will report aggregate recorder stats every 5m0s 
2025-03-28T08:48:41.257+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:48:41.285+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:48:41.286+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:48:41.296+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:48:41.296+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:48:41.298+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:48:41.298+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:48:41.298+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:48:41.386+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:48:41.401+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:48:41.401+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:48:41.401+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:48:41.401+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:48:41.401+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:48:41.402+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:48:41.406+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":12061312,"gc.pause.percent":0,"gc.pause.time":"40.756311ms","healthy":true,"host.memory.free":933257216,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:48:41.406Z","memory.system":18175240,"memory.total":11343016,"memory.usage":8550824,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":107388928,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"316.259246ms","version":"7.6.5-N1QL"}
2025-03-28T08:48:41.477+00:00 [INFO] audit: created new audit service
2025-03-28T08:48:41.502+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:48:41.502+00:00 [INFO] Starting audit worker 1
2025-03-28T08:48:41.502+00:00 [INFO] Starting audit worker 2
2025-03-28T08:48:41.502+00:00 [INFO] Starting audit worker 3
2025-03-28T08:48:41.502+00:00 [INFO] Starting audit worker 4
2025-03-28T08:48:41.502+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:48:41.570+00:00 [INFO] Unable to initialize functions cache monitor Could not access functions change counter because <nil>
2025-03-28T08:48:41.572+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:48:41.751+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:48:41.751+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:48:41.751+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:48:41.763+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:48:42.444+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:48:42.444+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:48:42.444+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:48:42.444+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:48:42.444+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:48:42.444+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:48:42.445+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:48:42.445+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:48:42.445+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:48:42.448+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:48:42.448+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:48:42.448+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:48:42.448+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 40249 Addr: 127.0.0.1:40249
2025-03-28T08:48:42.448+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:48:42.510+00:00 [INFO] Starting audit update stream
2025-03-28T08:48:43.448+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:48:43.448+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:48:43.448+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:48:43.448+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:48:43.448+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:48:43.448+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:48:43.448+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:48:43.448+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:48:43.448+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:48:43.886+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:48:43.886+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:48:43.886+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:48:43.886+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:48:43.886+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:48:43.886+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:48:43.999+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:48:43.999+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:48:43.999+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:48:44.000+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:48:44.018+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:48:44.018+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:48:44.018+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:48:44.019+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:48:44.019+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:48:44.019+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 45615 Addr: 127.0.0.1:45615
2025-03-28T08:48:45.022+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:48:45.022+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:48:45.022+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:48:45.022+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:48:45.022+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:48:45.022+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:48:45.022+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:48:45.022+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:48:45.022+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:48:45.336+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:48:45.336+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:48:45.336+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:48:45.336+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:48:45.336+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:48:45.336+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:48:45.336+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:48:45.337+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:48:45.358+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:48:45.358+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:48:45.358+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:48:45.358+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:48:45.396+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:48:45.399+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:48:45.448+00:00 [INFO] Refreshed cluster information (rev:31)
2025-03-28T08:48:45.448+00:00 [INFO] Initial topology: no active nodes
2025-03-28T08:48:45.451+00:00 [INFO] Refreshed cluster information (rev:31)
2025-03-28T08:48:45.453+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:48:45.486+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:48:45.515+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:48:45.515+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:48:45.515+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:48:45.516+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:48:45.516+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:48:45.516+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:48:45.526+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:48:45.526+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:48:45.594+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)

2025-03-28T08:50:16.882+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=362
2025-03-28T08:50:16.882+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:50:16.882+00:00 [INFO] Waiting for initial settings
2025-03-28T08:50:16.886+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:50:16.887+00:00 [INFO] Initial settings received
2025-03-28T08:50:16.891+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:50:16.893+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:50:16.902+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:50:16.902+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:50:16.903+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:50:16.915+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:50:17.624+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:50:17.624+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:50:17.624+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:50:17.624+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:50:17.624+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:50:17.656+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:50:17.666+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:50:17.765+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:17.765+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:17.776+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:17.780+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:50:17.781+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:50:17.784+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:50:17.784+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:50:17.821+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:50:17.837+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":14800072,"gc.pause.percent":0,"gc.pause.time":"268.123Âµs","healthy":true,"host.memory.free":870109184,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:50:17.837Z","memory.system":18437384,"memory.total":11259368,"memory.usage":8265344,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":105422848,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"193.687126ms","version":"7.6.5-N1QL"}
2025-03-28T08:50:17.846+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:50:17.846+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:50:17.849+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:17.849+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:17.846+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:17.855+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 15] will report aggregate recorder stats every 5m0s 
2025-03-28T08:50:17.859+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:50:17.956+00:00 [INFO] audit: created new audit service
2025-03-28T08:50:17.966+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:50:17.966+00:00 [INFO] Starting audit worker 2
2025-03-28T08:50:17.966+00:00 [INFO] Starting audit worker 1
2025-03-28T08:50:17.966+00:00 [INFO] Starting audit worker 3
2025-03-28T08:50:17.966+00:00 [INFO] Starting audit worker 4
2025-03-28T08:50:17.966+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:50:18.003+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:50:18.222+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:50:18.222+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:50:18.222+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:50:18.236+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:50:18.335+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:50:18.335+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:50:18.335+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:50:18.335+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:50:18.335+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:50:18.335+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:50:18.336+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:50:18.337+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:50:18.337+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:50:18.337+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:50:18.337+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:50:18.337+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:50:18.338+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 44241 Addr: 127.0.0.1:44241
2025-03-28T08:50:18.338+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"

2025-03-28T08:50:49.690+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=338
2025-03-28T08:50:49.690+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:50:49.690+00:00 [INFO] Waiting for initial settings
2025-03-28T08:50:49.693+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:50:49.693+00:00 [INFO] Initial settings received
2025-03-28T08:50:49.697+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:50:49.698+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:50:49.703+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:50:49.703+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:50:49.703+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:50:49.705+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:50:50.680+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 35] will report aggregate recorder stats every 5m0s 
2025-03-28T08:50:51.054+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:50:51.054+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:50:51.054+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:50:51.054+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:50:51.054+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:50:51.094+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:50:51.136+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:50:51.189+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:51.189+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:51.229+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:51.229+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:50:51.230+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:50:51.237+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:50:51.238+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:50:51.248+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:50:51.248+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:50:51.248+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:50:51.249+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:50:51.270+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:50:51.273+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":17843416,"gc.pause.percent":0,"gc.pause.time":"2.600917ms","healthy":true,"host.memory.free":814563328,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:50:51.273Z","memory.system":18437384,"memory.total":11265528,"memory.usage":8218784,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":105832448,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"189.40447ms","version":"7.6.5-N1QL"}
2025-03-28T08:50:51.288+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:51.288+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:50:51.288+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:50:51.288+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:51.288+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:50:51.288+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:50:51.384+00:00 [INFO] audit: created new audit service
2025-03-28T08:50:51.423+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:50:51.423+00:00 [INFO] Starting audit worker 2
2025-03-28T08:50:51.423+00:00 [INFO] Starting audit worker 1
2025-03-28T08:50:51.423+00:00 [INFO] Starting audit worker 3
2025-03-28T08:50:51.423+00:00 [INFO] Starting audit worker 4
2025-03-28T08:50:51.424+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:50:51.593+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:50:51.715+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:50:51.715+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:50:51.715+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:50:51.715+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:50:51.742+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:50:51.742+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:50:51.742+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:50:51.742+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:50:51.742+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:50:51.742+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:50:51.742+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:50:51.742+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:50:51.743+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:50:51.750+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:50:51.750+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:50:51.756+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:50:51.757+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:50:51.757+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 39617 Addr: 127.0.0.1:39617
2025-03-28T08:50:52.424+00:00 [INFO] Starting audit update stream
2025-03-28T08:50:52.758+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:50:52.758+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:50:52.758+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:50:52.758+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:50:52.758+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:50:52.758+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:50:52.758+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:50:52.758+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:50:52.758+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:50:52.920+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:50:52.920+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:50:52.920+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:50:52.920+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:50:52.920+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:50:52.920+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:50:52.956+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:50:52.956+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:50:52.956+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:50:52.957+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:50:52.964+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:50:52.964+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:50:52.964+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:50:52.965+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:50:52.965+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:50:52.965+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 33301 Addr: 127.0.0.1:33301
2025-03-28T08:50:53.965+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:50:53.965+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:50:53.965+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:50:53.966+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:50:53.966+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:50:53.966+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:50:53.966+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:50:53.966+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:50:53.966+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:50:54.096+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:50:54.096+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:50:54.096+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:50:54.096+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:50:54.096+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:50:54.096+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:50:54.096+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:50:54.097+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:50:54.112+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:50:54.112+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:50:54.112+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:50:54.112+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:50:54.132+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:50:54.132+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:50:54.142+00:00 [INFO] Preparing topology from: 2b1c659a2127ebf9b37e92f4a08d9405 (topology-change-rebalance)
2025-03-28T08:50:54.142+00:00 [INFO] Topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:54.144+00:00 [INFO] Topology change 2b1c659a2127ebf9b37e92f4a08d9405: (topology-change-rebalance) initiated.
2025-03-28T08:50:54.144+00:00 [INFO] Topology change 2b1c659a2127ebf9b37e92f4a08d9405: no action necessary.
2025-03-28T08:50:54.150+00:00 [INFO] Refreshed cluster information (rev:52)
2025-03-28T08:50:54.150+00:00 [INFO] Topology already set.
2025-03-28T08:50:54.156+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:50:54.157+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:50:54.158+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:50:54.159+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:50:54.159+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:50:54.159+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:50:54.159+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:50:54.164+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:50:54.164+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:50:54.167+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:50:54.272+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:50:54.475+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:50:54.778+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:50:55.182+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:50:55.682+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:50:55.682+00:00 [INFO] Bucket UsersBDD not found: Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:50:55.695+00:00 [INFO] Retrying bucket UsersBDD
2025-03-28T08:50:55.698+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:50:55.800+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:50:56.004+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:50:56.307+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:50:56.710+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:50:57.211+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:50:57.213+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T08:50:57.235+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:50:57.338+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:50:57.542+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:50:57.845+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:50:58.249+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:50:58.750+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:50:58.750+00:00 [INFO] Bucket UsersBDD not found: Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:50:58.760+00:00 [INFO] Retrying bucket UsersBDD
2025-03-28T08:50:58.763+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:50:58.867+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:50:59.070+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:50:59.373+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:50:59.777+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:51:00.277+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap

2025-03-28T08:51:33.825+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=338
2025-03-28T08:51:33.825+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:51:33.825+00:00 [INFO] Waiting for initial settings
2025-03-28T08:51:33.827+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:51:33.827+00:00 [INFO] Initial settings received
2025-03-28T08:51:33.827+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:51:33.829+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:51:33.833+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:51:33.833+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:51:33.833+00:00 [INFO] Temporary file path set to: /tmp, quota: 0

2025-03-28T08:52:34.762+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=336
2025-03-28T08:52:34.762+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:52:34.762+00:00 [INFO] Waiting for initial settings
2025-03-28T08:52:34.765+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:52:34.765+00:00 [INFO] Initial settings received
2025-03-28T08:52:34.766+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:52:34.767+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:52:34.769+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:52:34.769+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:52:34.769+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:52:34.771+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:52:35.742+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 14] will report aggregate recorder stats every 5m0s 
2025-03-28T08:52:36.002+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:52:36.002+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:52:36.002+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:52:36.002+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:52:36.002+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:52:36.035+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:52:36.043+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:52:36.060+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:52:36.060+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:52:36.086+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:52:36.086+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:52:36.087+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:52:36.088+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:52:36.089+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:52:36.124+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:52:36.127+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:52:36.126+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":16995256,"gc.pause.percent":0,"gc.pause.time":"133.714Âµs","healthy":true,"host.memory.free":833818624,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:52:36.126Z","memory.system":18175240,"memory.total":11326248,"memory.usage":8268672,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":107159552,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"92.778972ms","version":"7.6.5-N1QL"}
2025-03-28T08:52:36.127+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:52:36.127+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:52:36.127+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:52:36.127+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:52:36.127+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:52:36.152+00:00 [INFO] audit: created new audit service
2025-03-28T08:52:36.165+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:52:36.165+00:00 [INFO] Starting audit worker 2
2025-03-28T08:52:36.165+00:00 [INFO] Starting audit worker 1
2025-03-28T08:52:36.165+00:00 [INFO] Starting audit worker 3
2025-03-28T08:52:36.165+00:00 [INFO] Starting audit worker 4
2025-03-28T08:52:36.165+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:52:36.184+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:52:36.247+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:52:36.248+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:52:36.248+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:52:36.248+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:52:36.268+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:52:36.268+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:52:36.268+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:52:36.269+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:52:36.269+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:52:36.269+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:52:36.269+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:52:36.269+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:52:36.269+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:52:36.270+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:52:36.270+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:52:36.270+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:52:36.270+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 46081 Addr: 127.0.0.1:46081
2025-03-28T08:52:36.270+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:52:37.166+00:00 [INFO] Starting audit update stream
2025-03-28T08:52:37.271+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:52:37.271+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:52:37.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:52:37.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:52:37.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:52:37.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:52:37.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:52:37.271+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:52:37.271+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:52:37.433+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:52:37.433+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:52:37.433+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:52:37.433+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:52:37.433+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:52:37.433+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:52:37.478+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:52:37.478+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:52:37.478+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:52:37.479+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:52:37.484+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:52:37.484+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:52:37.484+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:52:37.484+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:52:37.484+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:52:37.485+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 43963 Addr: 127.0.0.1:43963
2025-03-28T08:52:38.486+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:52:38.486+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:52:38.486+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:52:38.486+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:52:38.486+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:52:38.486+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:52:38.486+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:52:38.486+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:52:38.486+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:52:39.084+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:52:39.084+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:52:39.084+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:52:39.084+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:52:39.084+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:52:39.084+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:52:39.084+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:52:39.084+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:52:39.168+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:52:39.168+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:52:39.168+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:52:39.168+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:52:39.283+00:00 [INFO] Refreshed cluster information (rev:65)
2025-03-28T08:52:39.316+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:52:39.317+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:52:39.353+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:52:39.400+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:52:39.400+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:52:39.474+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:52:39.474+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:52:39.474+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:52:39.474+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:52:39.474+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:52:39.474+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:52:39.496+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:52:39.496+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:52:39.511+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:52:39.716+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:52:40.034+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:52:40.438+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:52:40.938+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:52:40.938+00:00 [INFO] Bucket UsersBDD not found: Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:52:40.960+00:00 [INFO] Retrying bucket UsersBDD
2025-03-28T08:52:40.963+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:52:41.066+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:52:41.270+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:52:41.573+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:52:41.976+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:52:42.476+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:52:42.479+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T08:52:42.502+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:52:42.605+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:52:42.827+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:52:43.130+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:52:43.534+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:52:44.035+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:52:44.035+00:00 [INFO] Bucket UsersBDD not found: Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:52:44.046+00:00 [INFO] Retrying bucket UsersBDD
2025-03-28T08:52:44.051+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:52:44.154+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:52:44.357+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:52:44.661+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:52:45.066+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:52:45.567+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap

2025-03-28T08:53:18.201+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=344
2025-03-28T08:53:18.201+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:53:18.201+00:00 [INFO] Waiting for initial settings
2025-03-28T08:53:18.207+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:53:18.207+00:00 [INFO] Initial settings received
2025-03-28T08:53:18.207+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:53:18.208+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:53:18.212+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:53:18.212+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:53:18.212+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:53:18.215+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:53:18.885+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:53:18.885+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:53:18.884+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:53:18.885+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:53:18.885+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:53:18.926+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:53:18.937+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:53:18.997+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:53:18.997+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:53:19.034+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:53:19.034+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:53:19.035+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:53:19.038+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:53:19.038+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:53:19.039+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:53:19.092+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:53:19.095+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":11978840,"gc.pause.percent":0,"gc.pause.time":"1.072707ms","healthy":true,"host.memory.free":803143680,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:53:19.095Z","memory.system":18437384,"memory.total":11273152,"memory.usage":8553320,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":103276544,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"173.213413ms","version":"7.6.5-N1QL"}
2025-03-28T08:53:19.113+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:53:19.113+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:53:19.113+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:53:19.113+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:53:19.113+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:53:19.118+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:53:19.192+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 28] will report aggregate recorder stats every 5m0s 
2025-03-28T08:53:19.193+00:00 [INFO] audit: created new audit service
2025-03-28T08:53:19.207+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:53:19.212+00:00 [INFO] Starting audit worker 2
2025-03-28T08:53:19.212+00:00 [INFO] Starting audit worker 1
2025-03-28T08:53:19.212+00:00 [INFO] Starting audit worker 3
2025-03-28T08:53:19.212+00:00 [INFO] Starting audit worker 4
2025-03-28T08:53:19.212+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:53:19.266+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:53:19.301+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:53:19.301+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:53:19.301+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:53:19.301+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:53:19.307+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:53:19.307+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:53:19.307+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:53:19.307+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:53:19.307+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:53:19.307+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:53:19.307+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:53:19.307+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:53:19.307+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:53:19.308+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:53:19.308+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:53:19.308+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:53:19.308+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 42583 Addr: 127.0.0.1:42583
2025-03-28T08:53:19.308+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:53:20.213+00:00 [INFO] Starting audit update stream
2025-03-28T08:53:20.308+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:53:20.308+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:53:20.308+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:53:20.308+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:53:20.308+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:53:20.309+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:53:20.309+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:53:20.309+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:53:20.309+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:53:20.412+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:53:20.412+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:53:20.412+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:53:20.412+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:53:20.412+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:53:20.412+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:53:20.460+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:53:20.460+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:53:20.460+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:53:20.461+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:53:20.466+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:53:20.466+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:53:20.466+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:53:20.467+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:53:20.467+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:53:20.467+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 41995 Addr: 127.0.0.1:41995
2025-03-28T08:53:21.468+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:53:21.468+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:53:21.468+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:53:21.468+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:53:21.468+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:53:21.468+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:53:21.468+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:53:21.468+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:53:21.468+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:53:21.590+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:53:21.590+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:53:21.590+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:53:21.590+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:53:21.590+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:53:21.590+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:53:21.590+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:53:21.590+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:53:21.607+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:53:21.607+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:53:21.607+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:53:21.607+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:53:21.636+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:53:21.636+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:53:21.648+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:53:21.648+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:53:21.648+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:53:21.648+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:53:21.648+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:53:21.648+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:53:21.652+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:53:21.652+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:53:21.662+00:00 [INFO] Refreshed cluster information (rev:70)
2025-03-28T08:53:21.663+00:00 [INFO] Refreshed cluster information (rev:70)
2025-03-28T08:53:21.665+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:53:21.668+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:53:21.669+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:53:21.772+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:53:21.976+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:53:22.281+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:53:22.685+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:53:23.186+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:53:23.186+00:00 [INFO] Bucket UsersBDD not found: Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:53:23.196+00:00 [INFO] Retrying bucket UsersBDD
2025-03-28T08:53:23.198+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:53:23.301+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:53:23.504+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:53:23.808+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:53:24.212+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:53:24.713+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:53:24.715+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T08:53:24.744+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:53:24.848+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:53:25.052+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:53:25.355+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:53:25.758+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:53:26.259+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:53:26.259+00:00 [INFO] Bucket UsersBDD not found: Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:53:26.268+00:00 [INFO] Retrying bucket UsersBDD
2025-03-28T08:53:26.272+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:53:26.376+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:53:26.580+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:53:26.883+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:53:27.287+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:53:27.787+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap

2025-03-28T08:54:02.441+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=338
2025-03-28T08:54:02.441+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:54:02.441+00:00 [INFO] Waiting for initial settings
2025-03-28T08:54:02.445+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:54:02.445+00:00 [INFO] Initial settings received
2025-03-28T08:54:02.445+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:54:02.449+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:54:02.452+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:54:02.452+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:54:02.452+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:54:02.454+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:54:03.299+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:54:03.300+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:54:03.300+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:54:03.300+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:54:03.300+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:54:03.325+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:54:03.338+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:54:03.386+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:03.386+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:03.433+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 22] will report aggregate recorder stats every 5m0s 
2025-03-28T08:54:03.441+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:03.442+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:54:03.442+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:54:03.448+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:54:03.449+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:54:03.449+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:54:03.449+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:54:03.450+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:54:03.465+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:54:03.470+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18314280,"gc.pause.percent":0,"gc.pause.time":"12.720381ms","healthy":true,"host.memory.free":811995136,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:54:03.47Z","memory.system":18175240,"memory.total":11285912,"memory.usage":8237984,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":105537536,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":60,"uptime":"152.764275ms","version":"7.6.5-N1QL"}
2025-03-28T08:54:03.474+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:54:03.474+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:54:03.474+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:03.474+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:03.474+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:03.475+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:54:03.540+00:00 [INFO] audit: created new audit service
2025-03-28T08:54:03.557+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:54:03.557+00:00 [INFO] Starting audit worker 2
2025-03-28T08:54:03.557+00:00 [INFO] Starting audit worker 1
2025-03-28T08:54:03.557+00:00 [INFO] Starting audit worker 3
2025-03-28T08:54:03.557+00:00 [INFO] Starting audit worker 4
2025-03-28T08:54:03.557+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:54:03.584+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:54:03.689+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:54:03.689+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:54:03.689+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:54:03.690+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:54:03.698+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:54:03.698+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:54:03.698+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:54:03.698+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:54:03.698+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:54:03.698+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:54:03.698+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:54:03.698+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:54:03.698+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:54:03.699+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:54:03.699+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:54:03.699+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:54:03.699+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 46635 Addr: 127.0.0.1:46635
2025-03-28T08:54:03.699+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:54:04.557+00:00 [INFO] Starting audit update stream
2025-03-28T08:54:04.699+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:54:04.699+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:54:04.699+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:54:04.699+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:54:04.699+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:54:04.699+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:54:04.699+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:54:04.699+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:54:04.699+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:54:04.870+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:54:04.870+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:54:04.870+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:54:04.870+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:54:04.870+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:54:04.870+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:54:04.994+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:54:04.994+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:54:04.994+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:54:04.995+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:54:05.005+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:54:05.005+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:54:05.005+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:54:05.006+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:54:05.006+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:54:05.006+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 44323 Addr: 127.0.0.1:44323
2025-03-28T08:54:06.007+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:54:06.007+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:54:06.007+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:54:06.007+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:54:06.007+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:54:06.007+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:54:06.007+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:54:06.007+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:54:06.007+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:54:06.118+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:54:06.118+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:54:06.118+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:54:06.118+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:54:06.118+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:54:06.118+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:54:06.118+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:54:06.119+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:54:06.139+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:54:06.139+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:54:06.139+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:54:06.139+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:54:06.159+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:54:06.159+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:54:06.176+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:54:06.176+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:54:06.176+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:54:06.176+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:54:06.176+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:54:06.176+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:54:06.178+00:00 [INFO] Refreshed cluster information (rev:75)
2025-03-28T08:54:06.178+00:00 [INFO] Refreshed cluster information (rev:75)
2025-03-28T08:54:06.182+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:54:06.184+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:54:06.184+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:54:06.186+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:06.194+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:54:06.298+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:54:06.501+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:54:06.804+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:54:07.207+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:54:07.709+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:54:07.709+00:00 [INFO] Bucket UsersBDD not found: Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:54:07.725+00:00 [INFO] Retrying bucket UsersBDD
2025-03-28T08:54:07.728+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:54:07.838+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:54:08.035+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:54:08.337+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:54:08.741+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:54:09.242+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:54:09.244+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T08:54:09.270+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:54:09.379+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:54:09.582+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:54:09.885+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:54:10.288+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:54:10.789+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:54:10.789+00:00 [INFO] Bucket UsersBDD not found: Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap
2025-03-28T08:54:10.799+00:00 [INFO] Retrying bucket UsersBDD
2025-03-28T08:54:10.802+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 4)
2025-03-28T08:54:10.905+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 3)
2025-03-28T08:54:11.109+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 2)
2025-03-28T08:54:11.412+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 1)
2025-03-28T08:54:11.816+00:00 [INFO] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap (remaining retries: 0)
2025-03-28T08:54:12.317+00:00 [SEVERE] Failed to refresh bucket UsersBDD (a6b98613): Invalid URL (/pools/default/buckets/UsersBDD?bucket_uuid=a6b9ba30318b0dfd2ff8738359548613) response: empty vBucketMap

2025-03-28T08:54:45.268+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=339
2025-03-28T08:54:45.269+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:54:45.269+00:00 [INFO] Waiting for initial settings
2025-03-28T08:54:45.277+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:54:45.277+00:00 [INFO] Initial settings received
2025-03-28T08:54:45.277+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:54:45.278+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:54:45.281+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:54:45.281+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:54:45.281+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:54:45.287+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:54:46.243+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 36] will report aggregate recorder stats every 5m0s 
2025-03-28T08:54:46.481+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:54:46.481+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:54:46.481+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:54:46.481+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:54:46.481+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:54:46.507+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:54:46.544+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:54:46.708+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:46.708+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:46.835+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:46.858+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:54:46.870+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:54:46.870+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:54:46.870+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:54:46.870+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:54:46.870+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:54:46.870+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:54:46.871+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:54:46.872+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:54:46.872+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:54:46.872+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:54:46.872+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:54:46.872+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:54:46.872+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:54:46.872+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:54:46.872+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:54:46.872+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:54:46.930+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:54:46.953+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:46.953+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:54:46.953+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:54:46.953+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:46.953+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:54:46.970+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":11663984,"gc.pause.percent":0,"gc.pause.time":"22.440459ms","healthy":true,"host.memory.free":789426176,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:54:46.957Z","memory.system":22631688,"memory.total":12003000,"memory.usage":9282704,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":107712512,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"450.772929ms","version":"7.6.5-N1QL"}
2025-03-28T08:54:46.972+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:54:46.992+00:00 [INFO] audit: created new audit service
2025-03-28T08:54:47.007+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:54:47.008+00:00 [INFO] Starting audit worker 1
2025-03-28T08:54:47.009+00:00 [INFO] Starting audit worker 2
2025-03-28T08:54:47.009+00:00 [INFO] Starting audit worker 3
2025-03-28T08:54:47.009+00:00 [INFO] Starting audit worker 4
2025-03-28T08:54:47.009+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:54:47.072+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:54:47.191+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:54:47.191+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:54:47.191+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:54:47.192+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:54:47.200+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:54:47.200+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:54:47.200+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:54:47.200+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:54:47.200+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:54:47.200+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:54:47.200+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:54:47.200+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:54:47.200+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:54:47.205+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:54:47.205+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:54:47.205+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:54:47.205+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 44499 Addr: 127.0.0.1:44499
2025-03-28T08:54:47.205+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:54:48.009+00:00 [INFO] Starting audit update stream
2025-03-28T08:54:48.206+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:54:48.206+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:54:48.206+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:54:48.206+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:54:48.206+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:54:48.206+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:54:48.206+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:54:48.206+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:54:48.206+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:54:48.410+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:54:48.410+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:54:48.410+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:54:48.410+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:54:48.410+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:54:48.410+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:54:48.445+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:54:48.445+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:54:48.445+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:54:48.445+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:54:48.451+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:54:48.451+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:54:48.451+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:54:48.451+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:54:48.451+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:54:48.452+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 44541 Addr: 127.0.0.1:44541
2025-03-28T08:54:49.452+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:54:49.452+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:54:49.452+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:54:49.452+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:54:49.452+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:54:49.452+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:54:49.452+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:54:49.452+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:54:49.452+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:54:49.584+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:54:49.584+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:54:49.584+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:54:49.584+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:54:49.584+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:54:49.585+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:54:49.585+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:54:49.585+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:54:49.602+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:54:49.602+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:54:49.602+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:54:49.602+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:54:49.625+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:54:49.625+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:54:49.644+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:54:49.644+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:54:49.644+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:54:49.644+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:54:49.644+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:54:49.644+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:54:49.650+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:54:49.650+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:54:49.656+00:00 [INFO] Refreshed cluster information (rev:82)
2025-03-28T08:54:49.666+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:49.668+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:54:49.674+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T08:54:49.679+00:00 [INFO] Loaded manifest for bucket UsersBDD id 1
2025-03-28T08:54:49.679+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T08:54:49.679+00:00 [INFO] [0xc000532508:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T08:54:49.686+00:00 [INFO] CBO stats migration: Evaluating migration state

2025-03-28T08:55:43.695+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=359
2025-03-28T08:55:43.695+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:55:43.695+00:00 [INFO] Waiting for initial settings
2025-03-28T08:55:43.699+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:55:43.700+00:00 [INFO] Initial settings received
2025-03-28T08:55:43.700+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:55:43.734+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:55:43.783+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:55:43.783+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:55:43.783+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:55:43.794+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:55:44.002+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:55:44.002+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:55:44.002+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:55:44.002+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:55:44.002+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:55:44.083+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:55:44.102+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:55:44.213+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:55:44.213+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:55:44.317+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:55:44.320+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:55:44.321+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:55:44.322+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:55:44.322+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:55:44.361+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:55:44.374+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":17028920,"gc.pause.percent":0,"gc.pause.time":"8.236904ms","healthy":true,"host.memory.free":862441472,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:55:44.374Z","memory.system":18437384,"memory.total":11937968,"memory.usage":8887072,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":106971136,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"293.367446ms","version":"7.6.5-N1QL"}
2025-03-28T08:55:44.375+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:55:44.375+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:55:44.375+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:55:44.375+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:55:44.375+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:55:44.375+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:55:44.392+00:00 [INFO] audit: created new audit service
2025-03-28T08:55:44.641+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 51] will report aggregate recorder stats every 5m0s 
2025-03-28T08:55:44.935+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:55:44.935+00:00 [INFO] Starting audit worker 2
2025-03-28T08:55:44.935+00:00 [INFO] Starting audit worker 1
2025-03-28T08:55:44.935+00:00 [INFO] Starting audit worker 3
2025-03-28T08:55:44.935+00:00 [INFO] Starting audit worker 4
2025-03-28T08:55:44.935+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:55:44.970+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:55:45.034+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:55:45.034+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:55:45.034+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:55:45.034+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:55:45.041+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:55:45.041+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:55:45.041+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:55:45.041+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:55:45.041+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:55:45.041+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:55:45.041+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:55:45.041+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:55:45.042+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:55:45.043+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:55:45.043+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:55:45.043+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:55:45.043+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:55:45.043+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 35303 Addr: 127.0.0.1:35303
2025-03-28T08:55:45.936+00:00 [INFO] Starting audit update stream
2025-03-28T08:55:46.044+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:55:46.044+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:55:46.044+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:55:46.044+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:55:46.044+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:55:46.044+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:55:46.044+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:55:46.044+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:55:46.044+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:55:46.245+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:55:46.245+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:55:46.245+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:55:46.245+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:55:46.245+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:55:46.245+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:55:46.293+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:55:46.293+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:55:46.293+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:55:46.293+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:55:46.302+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:55:46.302+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:55:46.302+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:55:46.303+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:55:46.303+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:55:46.303+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 38509 Addr: 127.0.0.1:38509
2025-03-28T08:55:47.304+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:55:47.304+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:55:47.304+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:55:47.304+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:55:47.304+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:55:47.304+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:55:47.304+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:55:47.304+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:55:47.304+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:55:47.533+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:55:47.533+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:55:47.533+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:55:47.533+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:55:47.533+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:55:47.533+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:55:47.533+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:55:47.534+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:55:47.557+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:55:47.557+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:55:47.557+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:55:47.557+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:55:47.591+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:55:47.590+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:55:47.616+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:55:47.617+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:55:47.618+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:55:47.620+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:55:47.620+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:55:47.620+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:55:47.628+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:55:47.628+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:55:47.649+00:00 [INFO] Refreshed cluster information (rev:90)
2025-03-28T08:55:47.683+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:55:47.688+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:55:47.701+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T08:55:47.710+00:00 [INFO] Loaded manifest for bucket UsersBDD id 1
2025-03-28T08:55:47.710+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T08:55:47.710+00:00 [INFO] [0xc000458288:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T08:55:47.721+00:00 [INFO] CBO stats migration: Evaluating migration state

2025-03-28T08:56:26.747+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=344
2025-03-28T08:56:26.747+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:56:26.747+00:00 [INFO] Waiting for initial settings
2025-03-28T08:56:26.753+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:56:26.753+00:00 [INFO] Initial settings received
2025-03-28T08:56:26.753+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:56:26.754+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:56:26.758+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:56:26.760+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:56:26.760+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:56:26.764+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:56:27.725+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 12] will report aggregate recorder stats every 5m0s 
2025-03-28T08:56:28.102+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:56:28.102+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:56:28.102+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:56:28.102+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:56:28.102+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:56:28.200+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:56:28.237+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:56:28.359+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:56:28.359+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:56:28.404+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:56:28.411+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:56:28.413+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:56:28.413+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:56:28.413+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:56:28.413+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:56:28.413+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:56:28.413+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:56:28.413+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:56:28.413+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:56:28.413+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:56:28.413+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:56:28.414+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:56:28.449+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:56:28.456+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18253904,"gc.pause.percent":0,"gc.pause.time":"22.259491ms","healthy":true,"host.memory.free":780632064,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:56:28.456Z","memory.system":18437384,"memory.total":11917880,"memory.usage":8865272,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":105947136,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"256.830377ms","version":"7.6.5-N1QL"}
2025-03-28T08:56:28.458+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:56:28.458+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:56:28.458+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:56:28.458+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:56:28.458+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:56:28.458+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:56:28.498+00:00 [INFO] audit: created new audit service
2025-03-28T08:56:28.506+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:56:28.506+00:00 [INFO] Starting audit worker 1
2025-03-28T08:56:28.506+00:00 [INFO] Starting audit worker 2
2025-03-28T08:56:28.506+00:00 [INFO] Starting audit worker 3
2025-03-28T08:56:28.506+00:00 [INFO] Starting audit worker 4
2025-03-28T08:56:28.506+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:56:28.605+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:56:28.727+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:56:28.727+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:56:28.727+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:56:28.731+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:56:28.753+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:56:28.753+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:56:28.753+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:56:28.753+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:56:28.753+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:56:28.753+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:56:28.753+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:56:28.754+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:56:28.754+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:56:28.755+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:56:28.755+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:56:28.755+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:56:28.755+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 44437 Addr: 127.0.0.1:44437
2025-03-28T08:56:28.755+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:56:29.507+00:00 [INFO] Starting audit update stream
2025-03-28T08:56:29.756+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:56:29.756+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:56:29.756+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:56:29.756+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:56:29.756+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:56:29.756+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:56:29.756+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:56:29.756+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:56:29.756+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:56:30.047+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:56:30.047+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:56:30.047+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:56:30.047+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:56:30.047+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:56:30.047+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:56:30.231+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:56:30.231+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:56:30.231+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:56:30.231+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:56:30.241+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:56:30.241+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:56:30.241+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:56:30.241+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:56:30.241+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:56:30.242+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 35371 Addr: 127.0.0.1:35371
2025-03-28T08:56:31.242+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:56:31.242+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:56:31.242+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:56:31.242+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:56:31.242+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:56:31.242+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:56:31.242+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:56:31.242+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:56:31.242+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:56:31.515+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:56:31.515+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:56:31.515+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:56:31.515+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:56:31.515+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:56:31.515+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:56:31.516+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:56:31.516+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:56:31.567+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:56:31.567+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:56:31.567+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:56:31.567+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:56:31.681+00:00 [INFO] Refreshed cluster information (rev:95)
2025-03-28T08:56:31.685+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:56:31.686+00:00 [INFO] Refreshed cluster information (rev:95)
2025-03-28T08:56:31.687+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:56:31.687+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:56:31.701+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:56:31.701+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:56:31.701+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:56:31.701+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:56:31.701+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:56:31.701+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:56:31.703+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:56:31.705+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:56:31.705+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:56:31.710+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T08:56:31.715+00:00 [INFO] Loaded manifest for bucket UsersBDD id 1
2025-03-28T08:56:31.715+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T08:56:31.716+00:00 [INFO] [0xc000117688:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T08:56:31.718+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T08:56:31.739+00:00 [Info] creating GsiClient for 127.0.0.1:8091
2025-03-28T08:56:31.739+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:56:31.758+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:56:31.758+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:56:31.767+00:00 [Info] New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:56:31.786+00:00 [Info] security context initialized
2025-03-28T08:56:31.786+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:56:31.846+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:56:31.861+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:56:31.861+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:56:31.865+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:56:31.866+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:56:31.867+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:56:32.176+00:00 [Info] MetadataProvider.SetClusterStatus(): healthy nodes 1 failed node 0 unhealthy node 0 add node 0
2025-03-28T08:56:32.176+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T08:56:32.177+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T08:56:32.177+00:00 [Info] MetadataProvider.WatchMetadata(): indexer 127.0.0.1:9100
2025-03-28T08:56:32.260+00:00 [Info] watcher:ClientAuth successful for 127.0.0.1:9100
2025-03-28T08:56:32.294+00:00 [Info] WatchMetadata(): successfully reach indexer at 127.0.0.1:9100.
2025-03-28T08:56:32.303+00:00 [Info] MetadataProvider: Posting indexer version to metakv. Version=9
2025-03-28T08:56:32.303+00:00 [Info] MetadataProvider: Updating indexer version to 9
2025-03-28T08:56:32.311+00:00 [Info] initialized currmeta 1 force true 
2025-03-28T08:56:32.320+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40cbq-engine@127.0.0.1:8091-default
2025-03-28T08:56:32.327+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:56:32.330+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T08:56:32.330+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T08:56:32.332+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 2
2025-03-28T08:56:32.341+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:56:32.342+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:56:32.346+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T08:56:32.346+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T08:56:32.350+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 3
2025-03-28T08:56:32.348+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] started poolsize 5000 overflow 30 low WM 1000 relConn batch size 100 ...
2025-03-28T08:56:32.352+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] Started active connections updates consumer ... 
2025-03-28T08:56:32.355+00:00 [Info] [GsiScanClient:"127.0.0.1:9101"] started ...
2025-03-28T08:56:32.357+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] open new connection ...
2025-03-28T08:56:32.374+00:00 [Info] GSIC[default/UsersBDD-_default-_default-1743152191718494400] started ...
2025-03-28T08:56:32.374+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:56:32.484+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:56:32.484+00:00 [INFO] n1fty: NewFTSIndexer, server: http://127.0.0.1:8091, namespace: default, keyspace: UsersBDD
2025-03-28T08:56:32.488+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:56:32.748+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem

2025-03-28T08:58:06.047+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=336
2025-03-28T08:58:06.047+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:58:06.047+00:00 [INFO] Waiting for initial settings
2025-03-28T08:58:06.061+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:58:06.061+00:00 [INFO] Initial settings received
2025-03-28T08:58:06.065+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:58:06.067+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:58:06.074+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:58:06.074+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:58:06.074+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:58:06.083+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:58:06.632+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:58:06.632+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:58:06.633+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:58:06.633+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:58:06.633+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:58:06.684+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:58:06.710+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:58:06.770+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:58:06.770+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:58:06.829+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:58:06.833+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:58:06.833+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:58:06.839+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:58:06.839+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:58:06.883+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:58:06.890+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18251440,"gc.pause.percent":0,"gc.pause.time":"423.303Âµs","healthy":true,"host.memory.free":778608640,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:58:06.89Z","memory.system":18437384,"memory.total":11923024,"memory.usage":8879768,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":103690240,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":63,"uptime":"206.406715ms","version":"7.6.5-N1QL"}
2025-03-28T08:58:06.893+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:58:06.893+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:58:06.893+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:58:06.893+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:58:06.893+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:58:06.893+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:58:06.993+00:00 [INFO] audit: created new audit service
2025-03-28T08:58:07.016+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:58:07.016+00:00 [INFO] Starting audit worker 1
2025-03-28T08:58:07.016+00:00 [INFO] Starting audit worker 2
2025-03-28T08:58:07.016+00:00 [INFO] Starting audit worker 3
2025-03-28T08:58:07.016+00:00 [INFO] Starting audit worker 4
2025-03-28T08:58:07.016+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:58:07.039+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 43] will report aggregate recorder stats every 5m0s 
2025-03-28T08:58:07.079+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:58:07.143+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:58:07.144+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:58:07.144+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:58:07.145+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:58:07.156+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:58:07.156+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:58:07.156+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:58:07.156+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:58:07.156+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:58:07.156+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:58:07.156+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:58:07.156+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:58:07.156+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:58:07.157+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:58:07.157+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:58:07.157+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:58:07.157+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:58:07.157+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 40753 Addr: 127.0.0.1:40753
2025-03-28T08:58:08.025+00:00 [INFO] Starting audit update stream
2025-03-28T08:58:08.166+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:58:08.166+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:58:08.166+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:58:08.166+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:58:08.166+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:58:08.166+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:58:08.166+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:58:08.166+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:58:08.166+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:58:08.352+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:58:08.352+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:58:08.352+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:58:08.352+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:58:08.352+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:58:08.352+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:58:08.474+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:58:08.474+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:58:08.474+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:58:08.474+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:58:08.502+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:58:08.502+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:58:08.502+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:58:08.503+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:58:08.503+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:58:08.503+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 37129 Addr: 127.0.0.1:37129
2025-03-28T08:58:09.504+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:58:09.504+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:58:09.504+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:58:09.504+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:58:09.504+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:58:09.504+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:58:09.504+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:58:09.504+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:58:09.504+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:58:10.160+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:58:10.160+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:58:10.160+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:58:10.160+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:58:10.160+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:58:10.160+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:58:10.160+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:58:10.160+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:58:10.284+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:58:10.284+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:58:10.284+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:58:10.284+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:58:10.366+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:58:10.369+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:58:10.425+00:00 [INFO] Refreshed cluster information (rev:103)
2025-03-28T08:58:10.438+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:58:10.447+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:58:10.497+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T08:58:10.516+00:00 [INFO] Loaded manifest for bucket UsersBDD id 1
2025-03-28T08:58:10.517+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T08:58:10.518+00:00 [INFO] [0xc000350788:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T08:58:10.538+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T08:58:10.617+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:58:10.617+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:58:10.617+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:58:10.617+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:58:10.617+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:58:10.617+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:58:10.632+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:58:10.632+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:58:10.754+00:00 [Info] creating GsiClient for 127.0.0.1:8091
2025-03-28T08:58:10.754+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:58:10.820+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:58:10.821+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:58:10.864+00:00 [Info] New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:58:10.912+00:00 [Info] security context initialized
2025-03-28T08:58:10.912+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:58:10.997+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:58:11.012+00:00 [Info] MetadataProvider.SetClusterStatus(): healthy nodes 1 failed node 0 unhealthy node 0 add node 0
2025-03-28T08:58:11.012+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T08:58:11.012+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T08:58:11.012+00:00 [Info] MetadataProvider.WatchMetadata(): indexer 127.0.0.1:9100
2025-03-28T08:58:11.075+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:58:11.075+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:58:11.090+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:58:11.101+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:58:11.101+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:58:11.110+00:00 [Info] watcher:ClientAuth successful for 127.0.0.1:9100
2025-03-28T08:58:11.144+00:00 [Info] WatchMetadata(): successfully reach indexer at 127.0.0.1:9100.
2025-03-28T08:58:11.160+00:00 [Info] MetadataProvider: Updating indexer version to 9
2025-03-28T08:58:11.160+00:00 [Info] initialized currmeta 1 force true 
2025-03-28T08:58:11.164+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40cbq-engine@127.0.0.1:8091-default
2025-03-28T08:58:11.170+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:58:11.179+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:58:11.179+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:58:11.214+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] started poolsize 5000 overflow 30 low WM 1000 relConn batch size 100 ...
2025-03-28T08:58:11.214+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] Started active connections updates consumer ... 
2025-03-28T08:58:11.215+00:00 [Info] [GsiScanClient:"127.0.0.1:9101"] started ...
2025-03-28T08:58:11.216+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T08:58:11.216+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T08:58:11.216+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] open new connection ...
2025-03-28T08:58:11.233+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 2
2025-03-28T08:58:11.265+00:00 [Info] GSIC[default/UsersBDD-_default-_default-1743152290645239331] started ...
2025-03-28T08:58:11.265+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:58:11.286+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T08:58:11.286+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T08:58:11.288+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 3
2025-03-28T08:58:11.453+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:58:11.454+00:00 [INFO] n1fty: NewFTSIndexer, server: http://127.0.0.1:8091, namespace: default, keyspace: UsersBDD
2025-03-28T08:58:11.465+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:58:11.934+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:58:17.058+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:58:17.068+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T08:58:17.068+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T08:58:17.069+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 4
2025-03-28T08:58:24.429+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:58:24.442+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T08:58:24.442+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T08:58:24.443+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 5

2025-03-28T08:59:04.943+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=361
2025-03-28T08:59:04.943+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:59:04.943+00:00 [INFO] Waiting for initial settings
2025-03-28T08:59:04.946+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:59:04.947+00:00 [INFO] Initial settings received
2025-03-28T08:59:04.947+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:59:04.948+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:59:04.950+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:59:04.951+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:59:04.951+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:59:04.954+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:59:05.916+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 16] will report aggregate recorder stats every 5m0s 
2025-03-28T08:59:06.436+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:59:06.436+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:59:06.436+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:59:06.436+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:59:06.436+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:59:06.503+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:59:06.528+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:59:06.578+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:06.578+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:06.708+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:06.712+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:59:06.712+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:59:06.729+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:59:06.730+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:59:06.731+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:59:06.731+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:59:06.731+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:59:06.732+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:59:06.732+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:59:06.736+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:59:06.737+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:59:06.740+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:59:06.741+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:59:06.741+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:59:06.744+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:59:06.812+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:59:06.816+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18278360,"gc.pause.percent":0,"gc.pause.time":"8.935609ms","healthy":true,"host.memory.free":728621056,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:59:06.816Z","memory.system":18437384,"memory.total":11940488,"memory.usage":8892576,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":103833600,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"315.282254ms","version":"7.6.5-N1QL"}
2025-03-28T08:59:06.850+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:06.850+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:59:06.850+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:59:06.850+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:06.850+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:06.850+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:59:06.906+00:00 [INFO] audit: created new audit service
2025-03-28T08:59:06.989+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:59:07.004+00:00 [INFO] Starting audit worker 2
2025-03-28T08:59:07.004+00:00 [INFO] Starting audit worker 1
2025-03-28T08:59:07.004+00:00 [INFO] Starting audit worker 4
2025-03-28T08:59:07.004+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:59:07.004+00:00 [INFO] Starting audit worker 3
2025-03-28T08:59:07.106+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:59:07.285+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:59:07.285+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:59:07.285+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:59:07.286+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:59:07.306+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:59:07.306+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:59:07.306+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:59:07.307+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:59:07.307+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:59:07.307+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:59:07.307+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:59:07.307+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:59:07.307+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:59:07.308+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:59:07.308+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:59:07.308+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:59:07.308+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 35881 Addr: 127.0.0.1:35881
2025-03-28T08:59:07.308+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:59:08.005+00:00 [INFO] Starting audit update stream
2025-03-28T08:59:08.301+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:59:08.301+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:59:08.301+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:59:08.301+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:59:08.301+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:59:08.301+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:59:08.301+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:59:08.301+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:59:08.302+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:59:08.555+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:59:08.555+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:59:08.555+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:59:08.555+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:59:08.555+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:59:08.555+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:59:08.721+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:59:08.721+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:59:08.721+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:59:08.722+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:59:08.739+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:59:08.739+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:59:08.739+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:59:08.740+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:59:08.740+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.

2025-03-28T08:59:33.830+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=339
2025-03-28T08:59:33.830+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T08:59:33.830+00:00 [INFO] Waiting for initial settings
2025-03-28T08:59:33.839+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:59:33.839+00:00 [INFO] Initial settings received
2025-03-28T08:59:33.842+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T08:59:33.843+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T08:59:33.848+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T08:59:33.848+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T08:59:33.848+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T08:59:33.853+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T08:59:34.809+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 54] will report aggregate recorder stats every 5m0s 
2025-03-28T08:59:35.189+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T08:59:35.189+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:59:35.189+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T08:59:35.189+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:59:35.189+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T08:59:35.223+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T08:59:35.238+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T08:59:35.274+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:35.274+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:35.308+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:35.310+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T08:59:35.316+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T08:59:35.316+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T08:59:35.316+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T08:59:35.341+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T08:59:35.343+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":15458776,"gc.pause.percent":0,"gc.pause.time":"306.06Âµs","healthy":true,"host.memory.free":778272768,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T08:59:35.343Z","memory.system":22369544,"memory.total":11936744,"memory.usage":8895304,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":104677376,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"124.950279ms","version":"7.6.5-N1QL"}
2025-03-28T08:59:35.346+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T08:59:35.346+00:00 [INFO] Settings notifier from metakv
2025-03-28T08:59:35.346+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:35.346+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:35.346+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T08:59:35.350+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T08:59:35.445+00:00 [INFO] audit: created new audit service
2025-03-28T08:59:35.513+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T08:59:35.514+00:00 [INFO] Starting audit worker 1
2025-03-28T08:59:35.514+00:00 [INFO] Starting audit worker 2
2025-03-28T08:59:35.514+00:00 [INFO] Starting audit worker 3
2025-03-28T08:59:35.514+00:00 [INFO] Starting audit worker 4
2025-03-28T08:59:35.514+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T08:59:35.563+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:59:35.605+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:59:35.605+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:59:35.605+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:59:35.606+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:59:35.615+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:59:35.615+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:59:35.615+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T08:59:35.615+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T08:59:35.615+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T08:59:35.615+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:59:35.615+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T08:59:35.615+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T08:59:35.615+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T08:59:35.619+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:59:35.619+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:59:35.619+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T08:59:35.619+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T08:59:35.619+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 41135 Addr: 127.0.0.1:41135
2025-03-28T08:59:36.515+00:00 [INFO] Starting audit update stream
2025-03-28T08:59:36.620+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:59:36.620+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:59:36.620+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:59:36.620+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:59:36.620+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:59:36.620+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:59:36.620+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:59:36.620+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:59:36.621+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:59:36.925+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:59:36.925+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:59:36.925+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:59:36.925+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:59:36.925+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T08:59:36.925+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T08:59:37.195+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T08:59:37.195+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T08:59:37.195+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T08:59:37.195+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T08:59:37.207+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T08:59:37.207+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T08:59:37.207+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T08:59:37.208+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T08:59:37.208+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T08:59:37.211+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 40007 Addr: 127.0.0.1:40007
2025-03-28T08:59:38.204+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T08:59:38.205+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T08:59:38.205+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T08:59:38.205+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T08:59:38.205+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T08:59:38.205+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T08:59:38.205+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T08:59:38.205+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T08:59:38.205+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T08:59:38.412+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T08:59:38.412+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T08:59:38.412+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T08:59:38.412+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T08:59:38.412+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T08:59:38.412+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T08:59:38.412+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T08:59:38.412+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T08:59:38.440+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T08:59:38.440+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T08:59:38.440+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T08:59:38.440+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T08:59:38.469+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:59:38.469+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T08:59:38.492+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:59:38.492+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T08:59:38.492+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T08:59:38.492+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:59:38.492+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T08:59:38.492+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T08:59:38.506+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T08:59:38.506+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T08:59:38.521+00:00 [INFO] Refreshed cluster information (rev:112)
2025-03-28T08:59:38.523+00:00 [INFO] Refreshed cluster information (rev:112)
2025-03-28T08:59:38.525+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T08:59:38.537+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:38.537+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T08:59:38.544+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to retrieve collections manifest: MCResponse status=CONFIG_ONLY, opcode=GET_COLLECTIONS_MANIFEST, opaque=2, msg: . No collections access to bucket UsersBDD.
2025-03-28T08:59:38.544+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T08:59:38.544+00:00 [INFO] [0xc000806288:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T08:59:38.547+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T08:59:38.554+00:00 [INFO] [0xc000806288:UsersBDD:a6b98613:0001] Updater: received first manifest id 1
2025-03-28T08:59:50.702+00:00 [INFO] [0xc000806288:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:00:19.637+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=335
2025-03-28T09:00:19.637+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:00:19.637+00:00 [INFO] Waiting for initial settings
2025-03-28T09:00:19.641+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:00:19.641+00:00 [INFO] Initial settings received
2025-03-28T09:00:19.641+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:00:19.644+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:00:19.654+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:00:19.654+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:00:19.654+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:00:19.658+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:00:20.107+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:00:20.108+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:00:20.108+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:00:20.108+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:00:20.108+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:00:20.134+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:00:20.148+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:00:20.178+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:00:20.178+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:00:20.208+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:00:20.210+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T09:00:20.217+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:00:20.217+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:00:20.217+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:00:20.217+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:00:20.218+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:00:20.219+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:00:20.220+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:00:20.220+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:00:20.220+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:00:20.263+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:00:20.269+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:00:20.268+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:00:20.269+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:00:20.269+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:00:20.269+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:00:20.280+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:00:20.291+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":17795344,"gc.pause.percent":0,"gc.pause.time":"17.751004ms","healthy":true,"host.memory.free":783020032,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:00:20.27Z","memory.system":18502920,"memory.total":11952008,"memory.usage":8907736,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":106442752,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"137.669748ms","version":"7.6.5-N1QL"}
2025-03-28T09:00:20.382+00:00 [INFO] audit: created new audit service
2025-03-28T09:00:20.441+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:00:20.442+00:00 [INFO] Starting audit worker 1
2025-03-28T09:00:20.442+00:00 [INFO] Starting audit worker 2
2025-03-28T09:00:20.442+00:00 [INFO] Starting audit worker 3
2025-03-28T09:00:20.442+00:00 [INFO] Starting audit worker 4
2025-03-28T09:00:20.442+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:00:20.470+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:00:20.509+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:00:20.509+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:00:20.509+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:00:20.510+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:00:20.518+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:00:20.518+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:00:20.518+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:00:20.518+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:00:20.518+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:00:20.518+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:00:20.518+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:00:20.518+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:00:20.518+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:00:20.520+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:00:20.520+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:00:20.520+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:00:20.520+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 37353 Addr: 127.0.0.1:37353
2025-03-28T09:00:20.520+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:00:20.614+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 34] will report aggregate recorder stats every 5m0s 
2025-03-28T09:00:21.442+00:00 [INFO] Starting audit update stream
2025-03-28T09:00:21.521+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:00:21.521+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:00:21.521+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:00:21.521+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:00:21.521+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:00:21.521+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:00:21.521+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:00:21.521+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:00:21.521+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:00:21.673+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:00:21.673+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:00:21.673+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:00:21.673+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:00:21.673+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:00:21.673+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:00:21.716+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:00:21.716+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:00:21.716+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:00:21.716+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:00:21.724+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:00:21.724+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:00:21.724+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:00:21.725+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:00:21.725+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:00:21.725+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 40635 Addr: 127.0.0.1:40635
2025-03-28T09:00:22.725+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:00:22.725+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:00:22.725+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:00:22.725+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:00:22.725+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:00:22.725+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:00:22.725+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:00:22.725+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:00:22.725+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:00:22.968+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:00:22.969+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:00:22.969+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:00:22.969+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:00:22.969+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:00:22.969+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:00:22.969+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:00:22.969+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:00:23.096+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:00:23.096+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:00:23.096+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:00:23.096+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:00:23.147+00:00 [INFO] Refreshed cluster information (rev:117)
2025-03-28T09:00:23.182+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:00:23.183+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:00:23.233+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:00:23.234+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:00:23.235+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:00:23.248+00:00 [INFO] Loaded manifest for bucket UsersBDD id 1
2025-03-28T09:00:23.249+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:00:23.249+00:00 [INFO] [0xc000367908:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:00:23.268+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:00:23.320+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:00:23.320+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:00:23.320+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:00:23.320+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:00:23.320+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:00:23.320+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:00:23.326+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:00:23.326+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:00:23.426+00:00 [Info] creating GsiClient for 127.0.0.1:8091
2025-03-28T09:00:23.426+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:00:23.570+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:00:23.570+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:00:23.577+00:00 [Info] New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:00:23.605+00:00 [Info] security context initialized
2025-03-28T09:00:23.605+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:00:23.638+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:00:23.640+00:00 [Info] MetadataProvider.SetClusterStatus(): healthy nodes 1 failed node 0 unhealthy node 0 add node 0
2025-03-28T09:00:23.640+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:00:23.640+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:00:23.640+00:00 [Info] MetadataProvider.WatchMetadata(): indexer 127.0.0.1:9100
2025-03-28T09:00:23.655+00:00 [Info] watcher:ClientAuth successful for 127.0.0.1:9100
2025-03-28T09:00:23.658+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:00:23.658+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:00:23.668+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:00:23.669+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:00:23.670+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:00:23.696+00:00 [Info] WatchMetadata(): successfully reach indexer at 127.0.0.1:9100.
2025-03-28T09:00:23.710+00:00 [Info] MetadataProvider: Updating indexer version to 9
2025-03-28T09:00:23.711+00:00 [Info] initialized currmeta 1 force true 
2025-03-28T09:00:23.720+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40cbq-engine@127.0.0.1:8091-default
2025-03-28T09:00:23.722+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:00:23.723+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:00:23.723+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:00:23.737+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] started poolsize 5000 overflow 30 low WM 1000 relConn batch size 100 ...
2025-03-28T09:00:23.737+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] Started active connections updates consumer ... 
2025-03-28T09:00:23.737+00:00 [Info] [GsiScanClient:"127.0.0.1:9101"] started ...
2025-03-28T09:00:23.739+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] open new connection ...
2025-03-28T09:00:23.741+00:00 [Info] GSIC[default/UsersBDD-_default-_default-1743152423346222906] started ...
2025-03-28T09:00:23.741+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:00:23.742+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:00:23.742+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:00:23.743+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 2
2025-03-28T09:00:23.757+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:00:23.757+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:00:23.759+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 3
2025-03-28T09:00:23.809+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:00:23.809+00:00 [INFO] n1fty: NewFTSIndexer, server: http://127.0.0.1:8091, namespace: default, keyspace: UsersBDD
2025-03-28T09:00:23.812+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:00:23.844+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:00:30.672+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:00:30.696+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:00:30.696+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:00:30.698+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 4

2025-03-28T09:01:02.893+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=335
2025-03-28T09:01:02.894+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:01:02.894+00:00 [INFO] Waiting for initial settings
2025-03-28T09:01:02.897+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:01:02.897+00:00 [INFO] Initial settings received
2025-03-28T09:01:02.899+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:01:02.901+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:01:02.903+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:01:02.904+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:01:02.904+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:01:02.905+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:01:03.408+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:01:03.408+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:01:03.408+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:01:03.408+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:01:03.408+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:01:03.429+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:01:03.447+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:01:03.480+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:03.480+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:03.512+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:03.512+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:01:03.512+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:01:03.514+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:01:03.514+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:01:03.561+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:01:03.565+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18241848,"gc.pause.percent":0,"gc.pause.time":"26.580629ms","healthy":true,"host.memory.free":773365760,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:01:03.565Z","memory.system":18437384,"memory.total":11898408,"memory.usage":8849760,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":99041280,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"136.938315ms","version":"7.6.5-N1QL"}
2025-03-28T09:01:03.582+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:03.582+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:01:03.582+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:01:03.582+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:03.582+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:03.590+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:01:03.674+00:00 [INFO] audit: created new audit service
2025-03-28T09:01:03.699+00:00 [INFO] Starting audit worker 2
2025-03-28T09:01:03.699+00:00 [INFO] Starting audit worker 1
2025-03-28T09:01:03.699+00:00 [INFO] Starting audit worker 3
2025-03-28T09:01:03.699+00:00 [INFO] Starting audit worker 4
2025-03-28T09:01:03.699+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:01:03.700+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:01:03.749+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:01:03.876+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 9] will report aggregate recorder stats every 5m0s 
2025-03-28T09:01:03.880+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:01:03.880+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:01:03.880+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:01:03.882+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:01:03.901+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:01:03.902+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:01:03.902+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:01:03.902+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:01:03.902+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:01:03.902+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:01:03.902+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:01:03.902+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:01:03.902+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:01:03.903+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:01:03.903+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:01:03.904+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:01:03.904+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:01:03.904+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 33305 Addr: 127.0.0.1:33305
2025-03-28T09:01:04.700+00:00 [INFO] Starting audit update stream
2025-03-28T09:01:04.904+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:01:04.904+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:01:04.904+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:01:04.904+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:01:04.904+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:01:04.904+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:01:04.904+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:01:04.904+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:01:04.904+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:01:05.111+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:01:05.111+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:01:05.111+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:01:05.111+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:01:05.111+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:01:05.111+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:01:05.157+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:01:05.157+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:01:05.157+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:01:05.158+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:01:05.165+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:01:05.165+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:01:05.165+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:01:05.166+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:01:05.166+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:01:05.166+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 38477 Addr: 127.0.0.1:38477
2025-03-28T09:01:06.166+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:01:06.166+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:01:06.166+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:01:06.166+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:01:06.166+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:01:06.166+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:01:06.166+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:01:06.166+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:01:06.166+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:01:06.419+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:01:06.419+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:01:06.420+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:01:06.420+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:01:06.420+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:01:06.420+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:01:06.420+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:01:06.420+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:01:06.525+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:01:06.525+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:01:06.525+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:01:06.525+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:01:06.582+00:00 [INFO] Refreshed cluster information (rev:122)
2025-03-28T09:01:06.600+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:06.626+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:01:06.672+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:01:06.677+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:01:06.677+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:01:06.677+00:00 [INFO] [0xc00024b908:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:01:06.679+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:01:06.690+00:00 [INFO] [0xc00024b908:UsersBDD:a6b98613:0001] Updater: received first manifest id 1
2025-03-28T09:01:06.893+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:01:06.893+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:01:06.943+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:01:06.943+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:01:06.943+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:01:06.943+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:01:06.943+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:01:06.943+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:01:06.949+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:01:06.950+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:01:06.983+00:00 [Info] creating GsiClient for 127.0.0.1:8091
2025-03-28T09:01:06.983+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:01:07.002+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:01:07.002+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:01:07.010+00:00 [Info] New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:01:07.041+00:00 [Info] security context initialized
2025-03-28T09:01:07.041+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:01:07.055+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:01:07.075+00:00 [Info] MetadataProvider.SetClusterStatus(): healthy nodes 1 failed node 0 unhealthy node 0 add node 0
2025-03-28T09:01:07.075+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:01:07.075+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:01:07.075+00:00 [Info] MetadataProvider.WatchMetadata(): indexer 127.0.0.1:9100
2025-03-28T09:01:07.083+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:01:07.083+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:01:07.086+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:01:07.088+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:01:07.088+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:01:07.091+00:00 [Info] watcher:ClientAuth successful for 127.0.0.1:9100
2025-03-28T09:01:07.106+00:00 [Info] WatchMetadata(): successfully reach indexer at 127.0.0.1:9100.
2025-03-28T09:01:07.110+00:00 [Info] MetadataProvider: Updating indexer version to 9
2025-03-28T09:01:07.110+00:00 [Info] initialized currmeta 1 force true 
2025-03-28T09:01:07.114+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40cbq-engine@127.0.0.1:8091-default
2025-03-28T09:01:07.115+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] started poolsize 5000 overflow 30 low WM 1000 relConn batch size 100 ...
2025-03-28T09:01:07.115+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] Started active connections updates consumer ... 
2025-03-28T09:01:07.115+00:00 [Info] [GsiScanClient:"127.0.0.1:9101"] started ...
2025-03-28T09:01:07.116+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] open new connection ...
2025-03-28T09:01:07.119+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:01:07.122+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:01:07.122+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:01:07.122+00:00 [Info] GSIC[default/UsersBDD-_default-_default-1743152466959885695] started ...
2025-03-28T09:01:07.123+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:01:07.128+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:01:07.128+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:01:07.131+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 2
2025-03-28T09:01:07.136+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:01:07.136+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:01:07.138+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 3
2025-03-28T09:01:07.158+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:01:07.158+00:00 [INFO] n1fty: NewFTSIndexer, server: http://127.0.0.1:8091, namespace: default, keyspace: UsersBDD
2025-03-28T09:01:07.160+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:01:07.188+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:01:13.941+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:01:13.947+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:01:13.947+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:01:13.948+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 4

2025-03-28T09:01:50.280+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=339
2025-03-28T09:01:50.280+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:01:50.280+00:00 [INFO] Waiting for initial settings
2025-03-28T09:01:50.284+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:01:50.285+00:00 [INFO] Initial settings received
2025-03-28T09:01:50.289+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:01:50.290+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:01:50.293+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:01:50.293+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:01:50.293+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:01:50.296+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:01:50.856+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:01:50.856+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:01:50.856+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:01:50.856+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:01:50.856+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:01:50.871+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:01:50.889+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:01:50.920+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:50.920+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:50.945+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:50.948+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T09:01:50.950+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:01:50.950+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:01:50.950+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:01:50.991+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:01:50.994+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":15454712,"gc.pause.percent":0,"gc.pause.time":"5.068178ms","healthy":true,"host.memory.free":794382336,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:01:50.994Z","memory.system":18437384,"memory.total":11895632,"memory.usage":8848448,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":102047744,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"123.347897ms","version":"7.6.5-N1QL"}
2025-03-28T09:01:50.995+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:50.995+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:01:50.995+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:01:50.995+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:50.995+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:01:51.000+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:01:51.092+00:00 [INFO] audit: created new audit service
2025-03-28T09:01:51.109+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:01:51.110+00:00 [INFO] Starting audit worker 1
2025-03-28T09:01:51.110+00:00 [INFO] Starting audit worker 2
2025-03-28T09:01:51.110+00:00 [INFO] Starting audit worker 3
2025-03-28T09:01:51.110+00:00 [INFO] Starting audit worker 4
2025-03-28T09:01:51.110+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:01:51.150+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:01:51.198+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:01:51.199+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:01:51.199+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:01:51.201+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:01:51.208+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:01:51.208+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:01:51.208+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:01:51.208+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:01:51.209+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:01:51.209+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:01:51.209+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:01:51.209+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:01:51.209+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:01:51.211+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:01:51.211+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:01:51.211+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:01:51.211+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 43991 Addr: 127.0.0.1:43991
2025-03-28T09:01:51.211+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:01:51.253+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 46] will report aggregate recorder stats every 5m0s 
2025-03-28T09:01:52.110+00:00 [INFO] Starting audit update stream
2025-03-28T09:01:52.212+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:01:52.212+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:01:52.212+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:01:52.212+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:01:52.212+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:01:52.212+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:01:52.212+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:01:52.212+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:01:52.212+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:01:52.406+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:01:52.406+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:01:52.406+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:01:52.406+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:01:52.406+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:01:52.406+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:01:52.473+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:01:52.473+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:01:52.473+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:01:52.476+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:01:52.487+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:01:52.487+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:01:52.487+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:01:52.488+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:01:52.488+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:01:52.488+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 36807 Addr: 127.0.0.1:36807
2025-03-28T09:01:53.489+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:01:53.489+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:01:53.489+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:01:53.489+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:01:53.489+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:01:53.489+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:01:53.489+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:01:53.489+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:01:53.489+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:01:53.719+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:01:53.719+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:01:53.720+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:01:53.720+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:01:53.720+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:01:53.720+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:01:53.720+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:01:53.722+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:01:53.739+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:01:53.738+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:01:53.739+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:01:53.739+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:01:53.768+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:01:53.769+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:01:53.789+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:01:53.789+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:01:53.789+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:01:53.790+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:01:53.790+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:01:53.790+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:01:53.793+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:01:53.793+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:01:53.825+00:00 [INFO] Refreshed cluster information (rev:127)
2025-03-28T09:01:53.843+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:53.845+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:01:53.851+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:01:53.856+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:01:53.857+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:01:53.857+00:00 [INFO] [0xc000373908:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:01:53.860+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:01:53.869+00:00 [INFO] [0xc000373908:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:02:27.083+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=338
2025-03-28T09:02:27.083+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:02:27.083+00:00 [INFO] Waiting for initial settings
2025-03-28T09:02:27.086+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:02:27.086+00:00 [INFO] Initial settings received
2025-03-28T09:02:27.086+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:02:27.087+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:02:27.089+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:02:27.089+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:02:27.089+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:02:27.091+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:02:27.773+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:02:27.773+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:02:27.773+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:02:27.773+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:02:27.773+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:02:27.789+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:02:27.818+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:02:27.852+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:02:27.852+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:02:27.874+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:02:27.874+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:02:27.874+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:02:27.876+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:02:27.876+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:02:27.893+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:02:27.898+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":14796744,"gc.pause.percent":0,"gc.pause.time":"11.0792ms","healthy":true,"host.memory.free":777891840,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:02:27.898Z","memory.system":18175240,"memory.total":11963248,"memory.usage":8971320,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":101457920,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"110.19661ms","version":"7.6.5-N1QL"}
2025-03-28T09:02:27.900+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:02:27.900+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:02:27.900+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:02:27.900+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:02:27.900+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:02:27.902+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:02:27.965+00:00 [INFO] audit: created new audit service
2025-03-28T09:02:27.978+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:02:27.978+00:00 [INFO] Starting audit worker 1
2025-03-28T09:02:27.978+00:00 [INFO] Starting audit worker 2
2025-03-28T09:02:27.979+00:00 [INFO] Starting audit worker 3
2025-03-28T09:02:27.979+00:00 [INFO] Starting audit worker 4
2025-03-28T09:02:27.979+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:02:28.059+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:02:28.077+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 39] will report aggregate recorder stats every 5m0s 
2025-03-28T09:02:28.105+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:02:28.105+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:02:28.105+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:02:28.106+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:02:28.113+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:02:28.113+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:02:28.113+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:02:28.113+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:02:28.113+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:02:28.113+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:02:28.113+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:02:28.113+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:02:28.113+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:02:28.115+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:02:28.115+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:02:28.115+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:02:28.115+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 38699 Addr: 127.0.0.1:38699
2025-03-28T09:02:28.115+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:02:28.980+00:00 [INFO] Starting audit update stream
2025-03-28T09:02:29.116+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:02:29.116+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:02:29.116+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:02:29.116+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:02:29.116+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:02:29.116+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:02:29.116+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:02:29.116+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:02:29.116+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:02:29.252+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:02:29.252+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:02:29.252+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:02:29.252+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:02:29.252+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:02:29.252+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:02:29.291+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:02:29.291+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:02:29.291+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:02:29.292+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:02:29.298+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:02:29.298+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:02:29.298+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:02:29.299+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:02:29.299+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:02:29.299+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 43467 Addr: 127.0.0.1:43467
2025-03-28T09:02:30.300+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:02:30.300+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:02:30.300+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:02:30.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:02:30.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:02:30.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:02:30.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:02:30.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:02:30.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:02:30.547+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:02:30.547+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:02:30.547+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:02:30.547+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:02:30.547+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:02:30.547+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:02:30.547+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:02:30.548+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:02:30.565+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:02:30.565+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:02:30.565+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:02:30.565+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:02:30.597+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:02:30.597+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:02:30.619+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:02:30.619+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:02:30.619+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:02:30.619+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:02:30.619+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:02:30.619+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:02:30.624+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:02:30.624+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:02:30.685+00:00 [INFO] Refreshed cluster information (rev:132)
2025-03-28T09:02:30.686+00:00 [INFO] Refreshed cluster information (rev:132)
2025-03-28T09:02:30.687+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:02:30.701+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:02:30.703+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:02:30.709+00:00 [INFO] Loaded manifest for bucket UsersBDD id 1
2025-03-28T09:02:30.709+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:02:30.710+00:00 [INFO] [0xc0002f4508:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:02:30.712+00:00 [INFO] CBO stats migration: Evaluating migration state

2025-03-28T09:03:21.084+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=363
2025-03-28T09:03:21.085+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:03:21.085+00:00 [INFO] Waiting for initial settings
2025-03-28T09:03:21.088+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:03:21.089+00:00 [INFO] Initial settings received
2025-03-28T09:03:21.089+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:03:21.089+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:03:21.092+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:03:21.092+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:03:21.092+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:03:21.093+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:03:21.485+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:03:21.485+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:03:21.485+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:03:21.485+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:03:21.485+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:03:21.508+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:03:21.523+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:03:21.558+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:03:21.558+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:03:21.578+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:03:21.578+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:03:21.579+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:03:21.579+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:03:21.579+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:03:21.580+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:03:21.580+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:03:21.580+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:03:21.580+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:03:21.580+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:03:21.580+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:03:21.580+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:03:21.609+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:03:21.612+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18245600,"gc.pause.percent":0,"gc.pause.time":"6.617713ms","healthy":true,"host.memory.free":774230016,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:03:21.612Z","memory.system":18437384,"memory.total":11965176,"memory.usage":8920432,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":107761664,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"104.463505ms","version":"7.6.5-N1QL"}
2025-03-28T09:03:21.615+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:03:21.615+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:03:21.615+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:03:21.615+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:03:21.615+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:03:21.616+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:03:21.697+00:00 [INFO] audit: created new audit service
2025-03-28T09:03:21.723+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:03:21.723+00:00 [INFO] Starting audit worker 2
2025-03-28T09:03:21.723+00:00 [INFO] Starting audit worker 1
2025-03-28T09:03:21.723+00:00 [INFO] Starting audit worker 3
2025-03-28T09:03:21.723+00:00 [INFO] Starting audit worker 4
2025-03-28T09:03:21.723+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:03:21.767+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:03:21.813+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:03:21.813+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:03:21.813+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:03:21.814+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:03:21.821+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:03:21.822+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:03:21.822+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:03:21.822+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:03:21.822+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:03:21.822+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:03:21.822+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:03:21.822+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:03:21.822+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:03:21.824+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:03:21.824+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:03:21.824+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:03:21.824+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 44869 Addr: 127.0.0.1:44869
2025-03-28T09:03:21.824+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:03:22.053+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 38] will report aggregate recorder stats every 5m0s 
2025-03-28T09:03:22.724+00:00 [INFO] Starting audit update stream
2025-03-28T09:03:22.825+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:03:22.825+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:03:22.825+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:03:22.825+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:03:22.825+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:03:22.825+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:03:22.825+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:03:22.825+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:03:22.825+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:03:22.993+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:03:22.993+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:03:22.993+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:03:22.993+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:03:22.993+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:03:22.993+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:03:23.034+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:03:23.034+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:03:23.034+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:03:23.035+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:03:23.043+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:03:23.043+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:03:23.043+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:03:23.043+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:03:23.044+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:03:23.044+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 36049 Addr: 127.0.0.1:36049
2025-03-28T09:03:24.045+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:03:24.045+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:03:24.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:03:24.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:03:24.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:03:24.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:03:24.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:03:24.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:03:24.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:03:24.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:03:24.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:03:24.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:03:24.301+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:03:24.301+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:03:24.301+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:03:24.301+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:03:24.301+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:03:24.451+00:00 [INFO] Refreshed cluster information (rev:137)
2025-03-28T09:03:24.482+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:03:24.489+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:03:24.517+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:03:24.522+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:03:24.522+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:03:24.522+00:00 [INFO] [0xc0001ad688:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:03:24.524+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:03:24.540+00:00 [INFO] [0xc0001ad688:UsersBDD:a6b98613:0001] Updater: received first manifest id 1
2025-03-28T09:03:24.595+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:03:24.595+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:03:24.595+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:03:24.595+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:03:24.757+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:03:24.757+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:03:24.794+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:03:24.794+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:03:24.794+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:03:24.794+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:03:24.794+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:03:24.794+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:03:24.797+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:03:24.798+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:03:24.878+00:00 [Info] creating GsiClient for 127.0.0.1:8091
2025-03-28T09:03:24.878+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:03:24.911+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:03:24.912+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:03:24.923+00:00 [Info] New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:03:24.942+00:00 [Info] security context initialized
2025-03-28T09:03:24.942+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:03:24.955+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:03:24.962+00:00 [Info] MetadataProvider.SetClusterStatus(): healthy nodes 1 failed node 0 unhealthy node 0 add node 0
2025-03-28T09:03:24.963+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:03:24.963+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:03:24.963+00:00 [Info] MetadataProvider.WatchMetadata(): indexer 127.0.0.1:9100
2025-03-28T09:03:24.963+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:03:24.963+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:03:24.966+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:03:24.967+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:03:24.967+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:03:24.971+00:00 [Info] watcher:ClientAuth successful for 127.0.0.1:9100
2025-03-28T09:03:24.982+00:00 [Info] WatchMetadata(): successfully reach indexer at 127.0.0.1:9100.
2025-03-28T09:03:24.983+00:00 [Info] MetadataProvider: Updating indexer version to 9
2025-03-28T09:03:24.983+00:00 [Info] initialized currmeta 1 force true 
2025-03-28T09:03:24.989+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40cbq-engine@127.0.0.1:8091-default
2025-03-28T09:03:24.991+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:03:24.993+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] started poolsize 5000 overflow 30 low WM 1000 relConn batch size 100 ...
2025-03-28T09:03:24.993+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] Started active connections updates consumer ... 
2025-03-28T09:03:24.993+00:00 [Info] [GsiScanClient:"127.0.0.1:9101"] started ...
2025-03-28T09:03:24.995+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] open new connection ...
2025-03-28T09:03:24.995+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:03:24.995+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:03:24.996+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:03:24.996+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:03:25.000+00:00 [Info] GSIC[default/UsersBDD-_default-_default-1743152604809469815] started ...
2025-03-28T09:03:25.000+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:03:25.002+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 2
2025-03-28T09:03:25.009+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:03:25.009+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:03:25.011+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 3
2025-03-28T09:03:25.020+00:00 [INFO] n1fty: NewFTSIndexer, server: http://127.0.0.1:8091, namespace: default, keyspace: UsersBDD
2025-03-28T09:03:25.020+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:03:25.021+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:03:25.039+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem

2025-03-28T09:03:59.646+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=336
2025-03-28T09:03:59.646+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:03:59.646+00:00 [INFO] Waiting for initial settings
2025-03-28T09:03:59.655+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:03:59.649+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:03:59.649+00:00 [INFO] Initial settings received
2025-03-28T09:03:59.651+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:03:59.653+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:03:59.655+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:03:59.655+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:03:59.656+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:04:00.627+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 51] will report aggregate recorder stats every 5m0s 
2025-03-28T09:04:00.844+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:04:00.844+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:04:00.844+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:04:00.844+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:04:00.844+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:04:00.871+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:04:00.892+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:04:00.945+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:00.945+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:00.987+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:00.987+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:04:00.991+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:04:00.991+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:04:00.991+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:04:00.997+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:04:00.999+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:04:00.999+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:04:00.999+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:04:00.999+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:04:00.999+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:04:00.999+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:04:01.000+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:04:01.061+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:04:01.066+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18278640,"gc.pause.percent":0,"gc.pause.time":"13.859302ms","healthy":true,"host.memory.free":777494528,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:04:01.066Z","memory.system":22369544,"memory.total":11975672,"memory.usage":8925664,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":108929024,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":59,"uptime":"195.975856ms","version":"7.6.5-N1QL"}
2025-03-28T09:04:01.072+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:04:01.073+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:04:01.073+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:01.073+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:01.074+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:01.095+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:04:01.124+00:00 [INFO] audit: created new audit service
2025-03-28T09:04:01.132+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:04:01.133+00:00 [INFO] Starting audit worker 1
2025-03-28T09:04:01.133+00:00 [INFO] Starting audit worker 2
2025-03-28T09:04:01.133+00:00 [INFO] Starting audit worker 3
2025-03-28T09:04:01.133+00:00 [INFO] Starting audit worker 4
2025-03-28T09:04:01.133+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:04:01.182+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:04:01.253+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:04:01.253+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:04:01.253+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:04:01.254+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:04:01.267+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:04:01.267+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:04:01.267+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:04:01.267+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:04:01.267+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:04:01.267+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:04:01.267+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:04:01.267+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:04:01.268+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:04:01.270+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:04:01.270+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:04:01.270+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:04:01.270+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 40593 Addr: 127.0.0.1:40593
2025-03-28T09:04:01.270+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:04:02.134+00:00 [INFO] Starting audit update stream
2025-03-28T09:04:02.271+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:04:02.271+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:04:02.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:04:02.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:04:02.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:04:02.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:04:02.271+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:04:02.271+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:04:02.271+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:04:02.480+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:04:02.480+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:04:02.480+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:04:02.480+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:04:02.480+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:04:02.480+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:04:02.550+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:04:02.550+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:04:02.550+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:04:02.556+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:04:02.561+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:04:02.561+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:04:02.561+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:04:02.563+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:04:02.563+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:04:02.563+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 38717 Addr: 127.0.0.1:38717
2025-03-28T09:04:03.564+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:04:03.564+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:04:03.564+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:04:03.564+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:04:03.564+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:04:03.564+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:04:03.564+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:04:03.564+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:04:03.564+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:04:04.000+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:04:04.000+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:04:04.001+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:04:04.001+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:04:04.001+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:04:04.001+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:04:04.001+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:04:04.001+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:04:04.106+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:04:04.107+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:04:04.112+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:04:04.125+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:04:04.209+00:00 [INFO] Refreshed cluster information (rev:142)
2025-03-28T09:04:04.220+00:00 [INFO] Refreshed cluster information (rev:142)
2025-03-28T09:04:04.220+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:04:04.270+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:04.288+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:04:04.301+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:04:04.301+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:04:04.301+00:00 [INFO] [0xc0001aa788:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:04:04.304+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:04:04.320+00:00 [INFO] [0xc0001aa788:UsersBDD:a6b98613:0001] Updater: received first manifest id 1
2025-03-28T09:04:04.388+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:04:04.388+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:04:04.511+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:04:04.511+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:04:04.511+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:04:04.511+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:04:04.511+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:04:04.511+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:04:04.517+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:04:04.517+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:04:04.642+00:00 [Info] creating GsiClient for 127.0.0.1:8091
2025-03-28T09:04:04.642+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:04:04.788+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:04:04.788+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:04:04.876+00:00 [Info] New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:04:04.972+00:00 [Info] security context initialized
2025-03-28T09:04:04.972+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:04:05.034+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:04:05.038+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:04:05.038+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:04:05.038+00:00 [Info] MetadataProvider.SetClusterStatus(): healthy nodes 1 failed node 0 unhealthy node 0 add node 0
2025-03-28T09:04:05.038+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:04:05.038+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:04:05.038+00:00 [Info] MetadataProvider.WatchMetadata(): indexer 127.0.0.1:9100
2025-03-28T09:04:05.039+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:04:05.040+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:04:05.040+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:04:05.058+00:00 [Info] watcher:ClientAuth successful for 127.0.0.1:9100
2025-03-28T09:04:05.081+00:00 [Info] WatchMetadata(): successfully reach indexer at 127.0.0.1:9100.
2025-03-28T09:04:05.083+00:00 [Info] MetadataProvider: Updating indexer version to 9
2025-03-28T09:04:05.083+00:00 [Info] initialized currmeta 1 force true 
2025-03-28T09:04:05.095+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40cbq-engine@127.0.0.1:8091-default
2025-03-28T09:04:05.099+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:04:05.099+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:04:05.106+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:04:05.114+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] started poolsize 5000 overflow 30 low WM 1000 relConn batch size 100 ...
2025-03-28T09:04:05.114+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] Started active connections updates consumer ... 
2025-03-28T09:04:05.114+00:00 [Info] [GsiScanClient:"127.0.0.1:9101"] started ...
2025-03-28T09:04:05.116+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] open new connection ...
2025-03-28T09:04:05.124+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:04:05.124+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:04:05.130+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 2
2025-03-28T09:04:05.132+00:00 [Info] GSIC[default/UsersBDD-_default-_default-1743152644542829373] started ...
2025-03-28T09:04:05.132+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:04:05.156+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:04:05.156+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:04:05.161+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 3
2025-03-28T09:04:05.173+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:04:05.174+00:00 [INFO] n1fty: NewFTSIndexer, server: http://127.0.0.1:8091, namespace: default, keyspace: UsersBDD
2025-03-28T09:04:05.178+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:04:05.213+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:04:10.374+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:04:10.379+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:04:10.380+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:04:10.383+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 4

2025-03-28T09:04:41.030+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=338
2025-03-28T09:04:41.030+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:04:41.030+00:00 [INFO] Waiting for initial settings
2025-03-28T09:04:41.034+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:04:41.034+00:00 [INFO] Initial settings received
2025-03-28T09:04:41.036+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:04:41.037+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:04:41.041+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:04:41.041+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:04:41.041+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:04:41.044+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:04:42.003+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 54] will report aggregate recorder stats every 5m0s 
2025-03-28T09:04:42.297+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:04:42.297+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:04:42.297+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:04:42.297+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:04:42.297+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:04:42.319+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:04:42.332+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:04:42.378+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:42.378+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:42.445+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:42.460+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T09:04:42.460+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:04:42.462+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:04:42.462+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:04:42.489+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:04:42.493+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":13470880,"gc.pause.percent":0,"gc.pause.time":"4.526864ms","healthy":true,"host.memory.free":759099392,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:04:42.493Z","memory.system":18437384,"memory.total":11921272,"memory.usage":8934672,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":103956480,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"174.990365ms","version":"7.6.5-N1QL"}
2025-03-28T09:04:42.501+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:04:42.501+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:04:42.501+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:42.501+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:42.501+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:04:42.502+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:04:42.529+00:00 [INFO] audit: created new audit service
2025-03-28T09:04:42.538+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:04:42.538+00:00 [INFO] Starting audit worker 3
2025-03-28T09:04:42.538+00:00 [INFO] Starting audit worker 4
2025-03-28T09:04:42.538+00:00 [INFO] Starting audit worker 1
2025-03-28T09:04:42.538+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:04:42.538+00:00 [INFO] Starting audit worker 2
2025-03-28T09:04:42.574+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:04:42.647+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:04:42.647+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:04:42.647+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:04:42.671+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:04:42.682+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:04:42.682+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:04:42.682+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:04:42.682+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:04:42.682+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:04:42.682+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:04:42.682+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:04:42.682+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:04:42.682+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:04:42.687+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:04:42.687+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:04:42.687+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:04:42.687+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 34423 Addr: 127.0.0.1:34423
2025-03-28T09:04:42.687+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:04:43.539+00:00 [INFO] Starting audit update stream
2025-03-28T09:04:43.688+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:04:43.688+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:04:43.688+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:04:43.688+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:04:43.688+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:04:43.688+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:04:43.688+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:04:43.688+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:04:43.688+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:04:43.832+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:04:43.832+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:04:43.832+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:04:43.832+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:04:43.832+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:04:43.832+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:04:43.877+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:04:43.877+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:04:43.877+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:04:43.879+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:04:43.888+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:04:43.888+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:04:43.888+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:04:43.889+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:04:43.889+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:04:43.889+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 46173 Addr: 127.0.0.1:46173
2025-03-28T09:04:44.890+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:04:44.890+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:04:44.890+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:04:44.890+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:04:44.890+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:04:44.890+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:04:44.890+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:04:44.890+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:04:44.890+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:04:45.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:04:45.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:04:45.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:04:45.045+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:04:45.045+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:04:45.045+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:04:45.045+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:04:45.046+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:04:45.076+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:04:45.076+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:04:45.076+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:04:45.076+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:04:45.104+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:04:45.105+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:04:45.128+00:00 [INFO] Refreshed cluster information (rev:147)
2025-03-28T09:04:45.128+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:04:45.128+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:04:45.128+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:04:45.128+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:04:45.128+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:04:45.128+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:04:45.132+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:04:45.132+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:04:45.143+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:45.145+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:04:45.162+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:04:45.166+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:04:45.166+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:04:45.166+00:00 [INFO] [0xc000328788:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:04:45.168+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:04:45.175+00:00 [INFO] [0xc000328788:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:05:29.690+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=341
2025-03-28T09:05:29.690+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:05:29.690+00:00 [INFO] Waiting for initial settings
2025-03-28T09:05:29.696+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:05:29.696+00:00 [INFO] Initial settings received
2025-03-28T09:05:29.699+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:05:29.700+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:05:29.702+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:05:29.702+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:05:29.702+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:05:29.704+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:05:30.678+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 50] will report aggregate recorder stats every 5m0s 
2025-03-28T09:05:30.855+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:05:30.855+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:05:30.855+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:05:30.855+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:05:30.855+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:05:30.890+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:05:30.905+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:05:30.944+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:05:30.944+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:05:30.998+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:05:30.998+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:05:31.000+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T09:05:31.001+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:05:31.001+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:05:31.002+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:05:31.002+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:05:31.002+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:05:31.054+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:05:31.057+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18249152,"gc.pause.percent":0,"gc.pause.time":"294.331Âµs","healthy":true,"host.memory.free":742363136,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:05:31.057Z","memory.system":18502920,"memory.total":11957032,"memory.usage":8907920,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":106819584,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"168.874316ms","version":"7.6.5-N1QL"}
2025-03-28T09:05:31.059+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:05:31.059+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:05:31.060+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:05:31.060+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:05:31.060+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:05:31.071+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:05:31.102+00:00 [INFO] audit: created new audit service
2025-03-28T09:05:31.119+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:05:31.120+00:00 [INFO] Starting audit worker 1
2025-03-28T09:05:31.120+00:00 [INFO] Starting audit worker 2
2025-03-28T09:05:31.120+00:00 [INFO] Starting audit worker 3
2025-03-28T09:05:31.120+00:00 [INFO] Starting audit worker 4
2025-03-28T09:05:31.120+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:05:31.167+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:05:31.306+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:05:31.306+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:05:31.306+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:05:31.313+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:05:31.330+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:05:31.330+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:05:31.330+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:05:31.330+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:05:31.330+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:05:31.330+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:05:31.330+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:05:31.330+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:05:31.331+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:05:31.332+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:05:31.332+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:05:31.332+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:05:31.332+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 37015 Addr: 127.0.0.1:37015
2025-03-28T09:05:31.332+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:05:32.120+00:00 [INFO] Starting audit update stream
2025-03-28T09:05:32.333+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:05:32.333+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:05:32.333+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:05:32.333+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:05:32.333+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:05:32.333+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:05:32.333+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:05:32.333+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:05:32.333+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:05:32.564+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:05:32.564+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:05:32.564+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:05:32.564+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:05:32.565+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:05:32.565+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:05:32.664+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:05:32.664+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:05:32.664+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:05:32.665+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:05:32.672+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:05:32.672+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:05:32.672+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:05:32.672+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:05:32.672+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:05:32.673+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 41883 Addr: 127.0.0.1:41883
2025-03-28T09:05:33.673+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:05:33.673+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:05:33.673+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:05:33.673+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:05:33.673+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:05:33.673+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:05:33.673+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:05:33.673+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:05:33.673+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:05:33.837+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:05:33.837+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:05:33.837+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:05:33.837+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:05:33.837+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:05:33.837+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:05:33.837+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:05:33.838+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:05:33.865+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:05:33.865+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:05:33.865+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:05:33.865+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:05:33.897+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:05:33.897+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:05:33.917+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:05:33.917+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:05:33.917+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:05:33.917+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:05:33.917+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:05:33.917+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:05:33.926+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:05:33.926+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:05:33.955+00:00 [INFO] Refreshed cluster information (rev:152)
2025-03-28T09:05:33.970+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:05:33.982+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:05:33.994+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:05:33.999+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:05:33.999+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:05:33.999+00:00 [INFO] [0xc00020d688:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:05:34.003+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:05:34.019+00:00 [INFO] [0xc00020d688:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:06:40.644+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=353
2025-03-28T09:06:40.644+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:06:40.644+00:00 [INFO] Waiting for initial settings
2025-03-28T09:06:40.656+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:06:40.657+00:00 [INFO] Initial settings received
2025-03-28T09:06:40.659+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:06:40.661+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:06:40.678+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:06:40.677+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:06:40.678+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:06:40.688+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:06:41.635+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 22] will report aggregate recorder stats every 5m0s 
2025-03-28T09:06:42.123+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:06:42.124+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:06:42.124+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:06:42.124+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:06:42.124+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:06:42.159+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:06:42.258+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:06:42.556+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:06:42.556+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:06:42.690+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:06:42.704+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T09:06:42.722+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:06:42.722+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:06:42.722+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:06:42.861+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:06:42.871+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:06:42.871+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:06:42.871+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:06:42.871+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:06:42.871+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:06:42.872+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:06:42.890+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18353080,"gc.pause.percent":0,"gc.pause.time":"581.934Âµs","healthy":true,"host.memory.free":695648256,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:06:42.873Z","memory.system":22369544,"memory.total":11946472,"memory.usage":8900600,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":108187648,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"714.885812ms","version":"7.6.5-N1QL"}
2025-03-28T09:06:42.988+00:00 [INFO] audit: created new audit service
2025-03-28T09:06:43.092+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:06:43.092+00:00 [INFO] Starting audit worker 1
2025-03-28T09:06:43.092+00:00 [INFO] Starting audit worker 2
2025-03-28T09:06:43.092+00:00 [INFO] Starting audit worker 3
2025-03-28T09:06:43.092+00:00 [INFO] Starting audit worker 4
2025-03-28T09:06:43.092+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:06:43.202+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:06:43.284+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:06:43.284+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:06:43.284+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:06:43.286+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:06:43.294+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:06:43.294+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:06:43.294+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:06:43.294+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:06:43.294+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:06:43.294+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:06:43.294+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:06:43.294+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:06:43.294+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:06:43.297+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:06:43.297+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:06:43.297+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:06:43.297+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 46859 Addr: 127.0.0.1:46859
2025-03-28T09:06:43.297+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:06:44.092+00:00 [INFO] Starting audit update stream
2025-03-28T09:06:44.297+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:06:44.297+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:06:44.297+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:06:44.297+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:06:44.297+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:06:44.297+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:06:44.297+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:06:44.297+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:06:44.297+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:06:44.518+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:06:44.518+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:06:44.518+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:06:44.518+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:06:44.518+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:06:44.518+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:06:44.735+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:06:44.735+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:06:44.735+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:06:44.738+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:06:44.747+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:06:44.747+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:06:44.747+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:06:44.748+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:06:44.748+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:06:44.750+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 41775 Addr: 127.0.0.1:41775
2025-03-28T09:06:45.750+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:06:45.750+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:06:45.750+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:06:45.750+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:06:45.750+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:06:45.750+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:06:45.750+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:06:45.750+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:06:45.750+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:06:45.894+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:06:45.894+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:06:45.894+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:06:45.894+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:06:45.894+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:06:45.894+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:06:45.894+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:06:45.894+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:06:45.907+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:06:45.907+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:06:45.907+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:06:45.907+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:06:45.926+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:06:45.926+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:06:45.941+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:06:45.941+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:06:45.941+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:06:45.941+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:06:45.941+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:06:45.941+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:06:45.945+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:06:45.945+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:06:46.013+00:00 [INFO] Refreshed cluster information (rev:157)
2025-03-28T09:06:46.037+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:06:46.041+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:06:46.057+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:06:46.062+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:06:46.062+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:06:46.062+00:00 [INFO] [0xc0002ff908:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:06:46.064+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:06:46.073+00:00 [INFO] [0xc0002ff908:UsersBDD:a6b98613:0001] Updater: received first manifest id 1
2025-03-28T09:06:46.089+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.

2025-03-28T09:07:29.943+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=361
2025-03-28T09:07:29.944+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:07:29.944+00:00 [INFO] Waiting for initial settings
2025-03-28T09:07:29.953+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:07:29.954+00:00 [INFO] Initial settings received
2025-03-28T09:07:29.954+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:07:29.957+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:07:29.972+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:07:29.972+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:07:29.972+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:07:29.981+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:07:30.887+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:07:30.887+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:07:30.887+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:07:30.887+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:07:30.887+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:07:30.921+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 30] will report aggregate recorder stats every 5m0s 
2025-03-28T09:07:30.924+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:07:30.938+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:07:31.085+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:07:31.085+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:07:31.162+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:07:31.162+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:07:31.165+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T09:07:31.168+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:07:31.169+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:07:31.215+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:07:31.220+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:07:31.220+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:07:31.220+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:07:31.220+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:07:31.220+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:07:31.246+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":12862384,"gc.pause.percent":0,"gc.pause.time":"9.479507ms","healthy":true,"host.memory.free":689569792,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:07:31.235Z","memory.system":22369544,"memory.total":12002608,"memory.usage":9229688,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":108240896,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"312.301872ms","version":"7.6.5-N1QL"}
2025-03-28T09:07:31.248+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:07:31.287+00:00 [INFO] audit: created new audit service
2025-03-28T09:07:31.311+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:07:31.311+00:00 [INFO] Starting audit worker 1
2025-03-28T09:07:31.311+00:00 [INFO] Starting audit worker 2
2025-03-28T09:07:31.311+00:00 [INFO] Starting audit worker 3
2025-03-28T09:07:31.311+00:00 [INFO] Starting audit worker 4
2025-03-28T09:07:31.311+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:07:31.381+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:07:31.582+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:07:31.582+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:07:31.582+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:07:31.583+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:07:31.616+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:07:31.616+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:07:31.616+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:07:31.616+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:07:31.616+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:07:31.616+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:07:31.616+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:07:31.616+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:07:31.617+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:07:31.620+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:07:31.620+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:07:31.620+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:07:31.620+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 44827 Addr: 127.0.0.1:44827
2025-03-28T09:07:31.620+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:07:32.320+00:00 [INFO] Starting audit update stream
2025-03-28T09:07:32.621+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:07:32.621+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:07:32.621+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:07:32.621+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:07:32.621+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:07:32.621+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:07:32.621+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:07:32.621+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:07:32.621+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:07:32.910+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:07:32.910+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:07:32.910+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:07:32.910+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:07:32.910+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:07:32.910+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:07:33.023+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:07:33.023+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:07:33.023+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:07:33.024+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:07:33.034+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:07:33.034+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:07:33.034+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:07:33.034+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:07:33.034+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:07:33.034+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 45647 Addr: 127.0.0.1:45647
2025-03-28T09:07:34.035+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:07:34.035+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:07:34.035+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:07:34.035+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:07:34.035+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:07:34.035+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:07:34.035+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:07:34.036+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:07:34.036+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:07:34.262+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:07:34.262+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:07:34.262+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:07:34.262+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:07:34.262+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:07:34.262+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:07:34.262+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:07:34.263+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:07:34.302+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:07:34.300+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:07:34.301+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:07:34.301+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:07:34.351+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:07:34.351+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:07:34.392+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:07:34.392+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:07:34.392+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:07:34.392+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:07:34.392+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:07:34.392+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:07:34.409+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:07:34.410+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:07:34.423+00:00 [INFO] Refreshed cluster information (rev:162)
2025-03-28T09:07:34.426+00:00 [INFO] Refreshed cluster information (rev:162)
2025-03-28T09:07:34.426+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:07:34.435+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:07:34.441+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:07:34.441+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:07:34.441+00:00 [INFO] [0xc00035d688:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:07:34.443+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:07:34.445+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:07:34.451+00:00 [INFO] [0xc00035d688:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:08:09.041+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=355
2025-03-28T09:08:09.041+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:08:09.041+00:00 [INFO] Waiting for initial settings
2025-03-28T09:08:09.045+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:08:09.045+00:00 [INFO] Initial settings received
2025-03-28T09:08:09.046+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:08:09.047+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:08:09.049+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:08:09.049+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:08:09.050+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:08:09.051+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:08:10.029+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 44] will report aggregate recorder stats every 5m0s 
2025-03-28T09:08:10.251+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:08:10.251+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:08:10.251+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:08:10.251+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:08:10.251+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:08:10.276+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:08:10.290+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:08:10.323+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:10.323+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:10.380+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:10.380+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:08:10.380+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:08:10.383+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:08:10.385+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:08:10.414+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:08:10.417+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18339000,"gc.pause.percent":0,"gc.pause.time":"6.532435ms","healthy":true,"host.memory.free":765878272,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:08:10.416Z","memory.system":22631688,"memory.total":11918032,"memory.usage":8875640,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":106934272,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"141.210559ms","version":"7.6.5-N1QL"}
2025-03-28T09:08:10.429+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:08:10.429+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:08:10.429+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:10.431+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:10.431+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:10.434+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:08:10.509+00:00 [INFO] audit: created new audit service
2025-03-28T09:08:10.517+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:08:10.518+00:00 [INFO] Starting audit worker 1
2025-03-28T09:08:10.518+00:00 [INFO] Starting audit worker 2
2025-03-28T09:08:10.518+00:00 [INFO] Starting audit worker 3
2025-03-28T09:08:10.518+00:00 [INFO] Starting audit worker 4
2025-03-28T09:08:10.518+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:08:10.573+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:08:10.733+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:08:10.733+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:08:10.733+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:08:10.734+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:08:10.743+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:08:10.743+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:08:10.743+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:08:10.743+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:08:10.743+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:08:10.743+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:08:10.743+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:08:10.743+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:08:10.743+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:08:10.746+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:08:10.746+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:08:10.746+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:08:10.746+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 38613 Addr: 127.0.0.1:38613
2025-03-28T09:08:10.746+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:08:11.519+00:00 [INFO] Starting audit update stream
2025-03-28T09:08:11.747+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:08:11.747+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:08:11.747+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:08:11.747+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:08:11.747+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:08:11.747+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:08:11.747+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:08:11.747+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:08:11.747+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:08:12.088+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:08:12.088+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:08:12.088+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:08:12.088+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:08:12.088+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:08:12.088+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:08:12.400+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:08:12.400+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:08:12.400+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:08:12.400+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:08:12.407+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:08:12.407+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:08:12.407+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:08:12.408+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:08:12.408+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:08:12.408+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 40941 Addr: 127.0.0.1:40941
2025-03-28T09:08:13.450+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:08:13.450+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:08:13.450+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:08:13.450+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:08:13.450+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:08:13.450+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:08:13.450+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:08:13.450+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:08:13.450+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:08:13.813+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:08:13.814+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:08:13.814+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:08:13.814+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:08:13.814+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:08:13.814+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:08:13.814+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:08:13.814+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:08:13.949+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:08:13.949+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:08:13.949+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:08:13.949+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:08:13.950+00:00 [INFO] Refreshed cluster information (rev:167)
2025-03-28T09:08:13.953+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:08:13.975+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:13.989+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:08:14.002+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:08:14.002+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:08:14.002+00:00 [INFO] [0xc00003b908:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:08:14.011+00:00 [INFO] [0xc00003b908:UsersBDD:a6b98613:0001] Updater: received first manifest id 1
2025-03-28T09:08:14.011+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:08:14.015+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:08:14.026+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:08:14.026+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:08:14.055+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:08:14.055+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:08:14.055+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:08:14.055+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:08:14.055+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:08:14.055+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:08:14.060+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:08:14.060+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:08:14.113+00:00 [Info] creating GsiClient for 127.0.0.1:8091
2025-03-28T09:08:14.113+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:08:14.134+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:08:14.134+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:08:14.153+00:00 [Info] New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:08:14.173+00:00 [Info] security context initialized
2025-03-28T09:08:14.173+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:08:14.181+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:08:14.195+00:00 [Info] MetadataProvider.SetClusterStatus(): healthy nodes 1 failed node 0 unhealthy node 0 add node 0
2025-03-28T09:08:14.195+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:08:14.195+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:08:14.196+00:00 [Info] MetadataProvider.WatchMetadata(): indexer 127.0.0.1:9100
2025-03-28T09:08:14.207+00:00 [Info] watcher:ClientAuth successful for 127.0.0.1:9100
2025-03-28T09:08:14.210+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:08:14.210+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:08:14.214+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:08:14.217+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:08:14.217+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:08:14.240+00:00 [Info] WatchMetadata(): successfully reach indexer at 127.0.0.1:9100.
2025-03-28T09:08:14.242+00:00 [Info] MetadataProvider: Updating indexer version to 9
2025-03-28T09:08:14.242+00:00 [Info] initialized currmeta 1 force true 
2025-03-28T09:08:14.246+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] started poolsize 5000 overflow 30 low WM 1000 relConn batch size 100 ...
2025-03-28T09:08:14.246+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] Started active connections updates consumer ... 
2025-03-28T09:08:14.248+00:00 [Info] [GsiScanClient:"127.0.0.1:9101"] started ...
2025-03-28T09:08:14.249+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] open new connection ...
2025-03-28T09:08:14.253+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40cbq-engine@127.0.0.1:8091-default
2025-03-28T09:08:14.257+00:00 [Info] GSIC[default/UsersBDD-_default-_default-1743152894071877805] started ...
2025-03-28T09:08:14.257+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:08:14.266+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:08:14.266+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:08:14.268+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:08:14.291+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:08:14.291+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:08:14.293+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 2
2025-03-28T09:08:14.306+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:08:14.306+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:08:14.308+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 3
2025-03-28T09:08:14.340+00:00 [INFO] n1fty: NewFTSIndexer, server: http://127.0.0.1:8091, namespace: default, keyspace: UsersBDD
2025-03-28T09:08:14.340+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:08:14.341+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:08:14.374+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem

2025-03-28T09:08:51.785+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=340
2025-03-28T09:08:51.786+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:08:51.786+00:00 [INFO] Waiting for initial settings
2025-03-28T09:08:51.799+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:08:51.799+00:00 [INFO] Initial settings received
2025-03-28T09:08:51.808+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:08:51.809+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:08:51.811+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:08:51.811+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:08:51.811+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:08:51.814+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:08:52.746+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 12] will report aggregate recorder stats every 5m0s 
2025-03-28T09:08:52.930+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:08:52.930+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:08:52.930+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:08:52.930+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:08:52.930+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:08:52.982+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:08:52.996+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:08:53.049+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:53.049+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:53.183+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:53.183+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:08:53.183+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:08:53.194+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:08:53.195+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:08:53.196+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:08:53.260+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:08:53.264+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":14641256,"gc.pause.percent":0,"gc.pause.time":"14.550575ms","healthy":true,"host.memory.free":756715520,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:08:53.264Z","memory.system":22631688,"memory.total":12011208,"memory.usage":8964552,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":104968192,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"293.744007ms","version":"7.6.5-N1QL"}
2025-03-28T09:08:53.274+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:53.272+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:08:53.274+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:08:53.274+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:53.274+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:08:53.274+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:08:53.324+00:00 [INFO] audit: created new audit service
2025-03-28T09:08:54.076+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:08:54.076+00:00 [INFO] Starting audit worker 1
2025-03-28T09:08:54.076+00:00 [INFO] Starting audit worker 2
2025-03-28T09:08:54.076+00:00 [INFO] Starting audit worker 3
2025-03-28T09:08:54.076+00:00 [INFO] Starting audit worker 4
2025-03-28T09:08:54.076+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:08:54.166+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:08:54.418+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:08:54.418+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:08:54.418+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:08:54.419+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:08:54.428+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:08:54.428+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:08:54.428+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:08:54.428+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:08:54.428+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:08:54.428+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:08:54.428+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:08:54.429+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:08:54.429+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:08:54.430+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:08:54.430+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:08:54.430+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:08:54.430+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 41049 Addr: 127.0.0.1:41049
2025-03-28T09:08:54.430+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:08:55.077+00:00 [INFO] Starting audit update stream
2025-03-28T09:08:55.430+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:08:55.430+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:08:55.430+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:08:55.430+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:08:55.430+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:08:55.430+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:08:55.430+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:08:55.430+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:08:55.430+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:08:55.612+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:08:55.612+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:08:55.612+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:08:55.612+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:08:55.612+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:08:55.612+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:08:55.690+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:08:55.690+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:08:55.690+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:08:55.691+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:08:55.703+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:08:55.703+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:08:55.703+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:08:55.705+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:08:55.705+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:08:55.705+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 35249 Addr: 127.0.0.1:35249
2025-03-28T09:08:56.705+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:08:56.705+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:08:56.705+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:08:56.705+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:08:56.705+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:08:56.707+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:08:56.707+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:08:56.707+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:08:56.707+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:08:56.872+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:08:56.872+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:08:56.872+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:08:56.872+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:08:56.872+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:08:56.872+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:08:56.873+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:08:56.873+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:08:56.895+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:08:56.894+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:08:56.894+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:08:56.894+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:08:56.917+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:08:56.917+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:08:56.943+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:08:56.943+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:08:56.943+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:08:56.943+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:08:56.943+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:08:56.943+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:08:56.948+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:08:56.948+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:08:56.980+00:00 [INFO] Refreshed cluster information (rev:172)
2025-03-28T09:08:56.980+00:00 [INFO] Refreshed cluster information (rev:172)
2025-03-28T09:08:56.982+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:08:56.992+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:56.995+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:08:57.002+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:08:57.002+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:08:57.002+00:00 [INFO] [0xc0003c6788:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:08:57.006+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:08:57.016+00:00 [INFO] [0xc0003c6788:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:10:36.131+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=350
2025-03-28T09:10:36.131+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:10:36.131+00:00 [INFO] Waiting for initial settings
2025-03-28T09:10:36.151+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:10:36.151+00:00 [INFO] Initial settings received
2025-03-28T09:10:36.167+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:10:36.185+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:10:36.195+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:10:36.195+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:10:36.195+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:10:36.196+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:10:37.054+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 32] will report aggregate recorder stats every 5m0s 
2025-03-28T09:10:37.592+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:10:37.592+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:10:37.592+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:10:37.592+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:10:37.592+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:10:37.616+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:10:37.630+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:10:37.718+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:10:37.718+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:10:37.804+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:10:37.805+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:10:37.807+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:10:37.807+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:10:37.809+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:10:37.809+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:10:37.809+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:10:37.809+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:10:37.809+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:10:37.810+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:10:37.941+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:10:37.974+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:10:37.974+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:10:37.974+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:10:37.974+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:10:37.974+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:10:37.974+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18266704,"gc.pause.percent":0,"gc.pause.time":"1.753543ms","healthy":true,"host.memory.free":673411072,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:10:37.974Z","memory.system":22893832,"memory.total":11975176,"memory.usage":8938672,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":106618880,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"359.676133ms","version":"7.6.5-N1QL"}
2025-03-28T09:10:37.984+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:10:38.057+00:00 [INFO] audit: created new audit service
2025-03-28T09:10:38.527+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:10:38.527+00:00 [INFO] Starting audit worker 1
2025-03-28T09:10:38.527+00:00 [INFO] Starting audit worker 2
2025-03-28T09:10:38.527+00:00 [INFO] Starting audit worker 3
2025-03-28T09:10:38.527+00:00 [INFO] Starting audit worker 4
2025-03-28T09:10:38.527+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:10:38.582+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:10:38.633+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:10:38.633+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:10:38.633+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:10:38.635+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:10:38.643+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:10:38.643+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:10:38.643+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:10:38.643+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:10:38.643+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:10:38.643+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:10:38.643+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:10:38.643+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:10:38.643+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:10:38.651+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:10:38.652+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:10:38.652+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:10:38.652+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:10:38.652+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 37059 Addr: 127.0.0.1:37059
2025-03-28T09:10:39.528+00:00 [INFO] Starting audit update stream
2025-03-28T09:10:39.653+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:10:39.653+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:10:39.653+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:10:39.653+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:10:39.653+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:10:39.653+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:10:39.653+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:10:39.653+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:10:39.653+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:10:39.876+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:10:39.876+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:10:39.876+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:10:39.876+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:10:39.876+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:10:39.876+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:10:39.931+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:10:39.931+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:10:39.931+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:10:39.932+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:10:39.940+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:10:39.940+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:10:39.940+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:10:39.940+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:10:39.940+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:10:39.940+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 42407 Addr: 127.0.0.1:42407
2025-03-28T09:10:40.941+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:10:40.941+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:10:40.941+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:10:40.941+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:10:40.941+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:10:40.941+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:10:40.941+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:10:40.941+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:10:40.941+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:10:41.099+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:10:41.099+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:10:41.099+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:10:41.099+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:10:41.099+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:10:41.099+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:10:41.099+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:10:41.099+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:10:41.108+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:10:41.108+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:10:41.108+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:10:41.108+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:10:41.128+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:10:41.128+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:10:41.169+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:10:41.169+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:10:41.169+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:10:41.169+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:10:41.169+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:10:41.169+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:10:41.182+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:10:41.182+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:10:41.237+00:00 [INFO] Refreshed cluster information (rev:181)
2025-03-28T09:10:41.238+00:00 [INFO] Refreshed cluster information (rev:181)
2025-03-28T09:10:41.242+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:10:41.251+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:10:41.255+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:10:41.255+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:10:41.256+00:00 [INFO] [0xc0003aa788:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:10:41.257+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:10:41.259+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:10:41.268+00:00 [INFO] [0xc0003aa788:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:11:26.595+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=365
2025-03-28T09:11:26.595+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:11:26.595+00:00 [INFO] Waiting for initial settings
2025-03-28T09:11:26.608+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:11:26.604+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:11:26.604+00:00 [INFO] Initial settings received
2025-03-28T09:11:26.605+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:11:26.605+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:11:26.608+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:11:26.608+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:11:26.620+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:11:27.564+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 42] will report aggregate recorder stats every 5m0s 
2025-03-28T09:11:28.270+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:11:28.270+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:11:28.270+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:11:28.271+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:11:28.273+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:11:28.300+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:11:28.312+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:11:28.351+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:11:28.351+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:11:28.383+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:11:28.383+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:11:28.386+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:11:28.386+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:11:28.386+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:11:28.423+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:11:28.426+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18379120,"gc.pause.percent":0,"gc.pause.time":"9.894805ms","healthy":true,"host.memory.free":745865216,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:11:28.426Z","memory.system":18437384,"memory.total":11940176,"memory.usage":8896896,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":105570304,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"127.051235ms","version":"7.6.5-N1QL"}
2025-03-28T09:11:28.437+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:11:28.436+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:11:28.436+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:11:28.437+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:11:28.437+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:11:28.442+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:11:28.459+00:00 [INFO] audit: created new audit service
2025-03-28T09:11:28.474+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:11:28.474+00:00 [INFO] Starting audit worker 1
2025-03-28T09:11:28.475+00:00 [INFO] Starting audit worker 2
2025-03-28T09:11:28.475+00:00 [INFO] Starting audit worker 3
2025-03-28T09:11:28.475+00:00 [INFO] Starting audit worker 4
2025-03-28T09:11:28.475+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:11:28.511+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:11:28.622+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:11:28.622+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:11:28.622+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:11:28.622+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:11:28.636+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:11:28.636+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:11:28.636+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:11:28.637+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:11:28.637+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:11:28.637+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:11:28.637+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:11:28.637+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:11:28.637+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:11:28.638+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:11:28.638+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:11:28.638+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:11:28.638+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 42601 Addr: 127.0.0.1:42601
2025-03-28T09:11:28.638+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:11:29.475+00:00 [INFO] Starting audit update stream
2025-03-28T09:11:29.639+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:11:29.639+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:11:29.639+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:11:29.639+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:11:29.639+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:11:29.639+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:11:29.639+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:11:29.639+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:11:29.639+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:11:29.816+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:11:29.816+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:11:29.816+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:11:29.816+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:11:29.816+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:11:29.816+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:11:29.859+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:11:29.859+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:11:29.859+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:11:29.864+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:11:29.870+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:11:29.871+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:11:29.871+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:11:29.871+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:11:29.871+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:11:29.871+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 46179 Addr: 127.0.0.1:46179
2025-03-28T09:11:30.872+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:11:30.872+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:11:30.935+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:11:30.935+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:11:30.935+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:11:30.935+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:11:30.935+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:11:30.935+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:11:30.935+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:11:31.311+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:11:31.311+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:11:31.311+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:11:31.311+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:11:31.311+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:11:31.311+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:11:31.311+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:11:31.312+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:11:31.416+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:11:31.416+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:11:31.416+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:11:31.416+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:11:31.529+00:00 [INFO] Refreshed cluster information (rev:186)
2025-03-28T09:11:31.531+00:00 [INFO] Refreshed cluster information (rev:186)
2025-03-28T09:11:31.538+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:11:31.573+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:11:31.573+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:11:31.611+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:11:31.611+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:11:31.611+00:00 [INFO] [0xc0003b2788:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:11:31.615+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:11:31.635+00:00 [INFO] [0xc0003b2788:UsersBDD:a6b98613:0001] Updater: received first manifest id 1
2025-03-28T09:11:31.647+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:11:31.647+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:11:31.671+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:11:31.672+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:11:31.672+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:11:31.672+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:11:31.672+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:11:31.672+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:11:31.678+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:11:31.678+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:11:31.716+00:00 [Info] creating GsiClient for 127.0.0.1:8091
2025-03-28T09:11:31.716+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:11:31.739+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:11:31.739+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:11:31.754+00:00 [Info] New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:11:31.783+00:00 [Info] security context initialized
2025-03-28T09:11:31.783+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:11:31.793+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:11:31.814+00:00 [Info] MetadataProvider.SetClusterStatus(): healthy nodes 1 failed node 0 unhealthy node 0 add node 0
2025-03-28T09:11:31.814+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:11:31.814+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:11:31.814+00:00 [Info] MetadataProvider.WatchMetadata(): indexer 127.0.0.1:9100
2025-03-28T09:11:31.820+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:11:31.820+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:11:31.825+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:11:31.826+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:11:31.826+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:11:31.829+00:00 [Info] watcher:ClientAuth successful for 127.0.0.1:9100
2025-03-28T09:11:31.843+00:00 [Info] WatchMetadata(): successfully reach indexer at 127.0.0.1:9100.
2025-03-28T09:11:31.849+00:00 [Info] MetadataProvider: Updating indexer version to 9
2025-03-28T09:11:31.849+00:00 [Info] initialized currmeta 1 force true 
2025-03-28T09:11:31.853+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40cbq-engine@127.0.0.1:8091-default
2025-03-28T09:11:31.856+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:11:31.856+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] started poolsize 5000 overflow 30 low WM 1000 relConn batch size 100 ...
2025-03-28T09:11:31.856+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] Started active connections updates consumer ... 
2025-03-28T09:11:31.856+00:00 [Info] [GsiScanClient:"127.0.0.1:9101"] started ...
2025-03-28T09:11:31.857+00:00 [Info] [Queryport-connpool:127.0.0.1:9101] open new connection ...
2025-03-28T09:11:31.858+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:11:31.858+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:11:31.863+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:11:31.863+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:11:31.864+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 2
2025-03-28T09:11:31.869+00:00 [Info] Refreshing indexer list due to cluster changes or auto-refresh.
2025-03-28T09:11:31.869+00:00 [Info] Refreshed Indexer List: [127.0.0.1:9100]
2025-03-28T09:11:31.871+00:00 [Info] metadataClient::safeupdate switched currmeta from 1 -> 1 force true tracker 3
2025-03-28T09:11:31.872+00:00 [Info] GSIC[default/UsersBDD-_default-_default-1743153091696139327] started ...
2025-03-28T09:11:31.872+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:11:31.902+00:00 [INFO] n1fty: NewFTSIndexer, server: http://127.0.0.1:8091, namespace: default, keyspace: UsersBDD
2025-03-28T09:11:31.902+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:11:31.903+00:00 [Info] Receive security change notification. encryption=false

2025-03-28T09:12:11.205+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=363
2025-03-28T09:12:11.206+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:12:11.206+00:00 [INFO] Waiting for initial settings
2025-03-28T09:12:11.208+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:12:11.208+00:00 [INFO] Initial settings received
2025-03-28T09:12:11.210+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:12:11.211+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:12:11.213+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:12:11.213+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:12:11.213+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:12:11.218+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:12:12.190+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 35] will report aggregate recorder stats every 5m0s 
2025-03-28T09:12:12.652+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:12:12.652+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:12:12.652+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:12:12.652+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:12:12.652+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:12:12.710+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:12:12.728+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:12:12.784+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:12.784+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:12.812+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:12.814+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T09:12:12.814+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:12:12.815+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:12:12.815+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:12:12.815+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:12:12.816+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:12:12.846+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:12:12.859+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:12.859+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:12:12.859+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:12:12.859+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:12.859+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:12.863+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:12:12.871+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18217240,"gc.pause.percent":0,"gc.pause.time":"7.665426ms","healthy":true,"host.memory.free":693850112,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:12:12.871Z","memory.system":18437384,"memory.total":12048528,"memory.usage":9003312,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":102457344,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"174.351618ms","version":"7.6.5-N1QL"}
2025-03-28T09:12:12.905+00:00 [INFO] audit: created new audit service
2025-03-28T09:12:12.954+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:12:12.954+00:00 [INFO] Starting audit worker 1
2025-03-28T09:12:12.954+00:00 [INFO] Starting audit worker 2
2025-03-28T09:12:12.954+00:00 [INFO] Starting audit worker 3
2025-03-28T09:12:12.954+00:00 [INFO] Starting audit worker 4
2025-03-28T09:12:12.954+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:12:13.016+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:12:13.110+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:12:13.110+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:12:13.110+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:12:13.131+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:12:13.140+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:12:13.140+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:12:13.140+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:12:13.140+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:12:13.140+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:12:13.140+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:12:13.141+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:12:13.141+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:12:13.141+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:12:13.143+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:12:13.143+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:12:13.143+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:12:13.143+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 41261 Addr: 127.0.0.1:41261
2025-03-28T09:12:13.143+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:12:13.955+00:00 [INFO] Starting audit update stream
2025-03-28T09:12:14.144+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:12:14.144+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:12:14.144+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:12:14.144+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:12:14.144+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:12:14.144+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:12:14.144+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:12:14.144+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:12:14.144+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:12:14.413+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:12:14.413+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:12:14.413+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:12:14.413+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:12:14.413+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:12:14.413+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:12:14.641+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:12:14.641+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:12:14.641+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:12:14.654+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:12:14.690+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:12:14.690+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:12:14.690+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:12:14.691+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:12:14.691+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:12:14.691+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 39535 Addr: 127.0.0.1:39535
2025-03-28T09:12:15.692+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:12:15.692+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:12:15.692+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:12:15.692+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:12:15.692+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:12:15.692+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:12:15.692+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:12:15.692+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.

2025-03-28T09:12:47.001+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=336
2025-03-28T09:12:47.001+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:12:47.001+00:00 [INFO] Waiting for initial settings
2025-03-28T09:12:47.015+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:12:47.016+00:00 [INFO] Initial settings received
2025-03-28T09:12:47.018+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:12:47.019+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:12:47.022+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:12:47.022+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:12:47.022+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:12:47.024+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:12:47.988+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 11] will report aggregate recorder stats every 5m0s 
2025-03-28T09:12:48.611+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:12:48.611+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:12:48.611+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:12:48.611+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:12:48.611+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:12:48.635+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:12:48.648+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:12:48.681+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:48.681+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:48.704+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:48.704+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:12:48.704+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:12:48.706+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:12:48.706+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:12:48.732+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:12:48.739+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:48.738+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:12:48.738+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:12:48.739+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:48.739+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:12:48.742+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:12:48.746+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":17806928,"gc.pause.percent":0,"gc.pause.time":"255.521Âµs","healthy":true,"host.memory.free":745340928,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:12:48.746Z","memory.system":22369544,"memory.total":11985424,"memory.usage":8942432,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":106315776,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"114.948794ms","version":"7.6.5-N1QL"}
2025-03-28T09:12:48.778+00:00 [INFO] audit: created new audit service
2025-03-28T09:12:48.792+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:12:48.793+00:00 [INFO] Starting audit worker 1
2025-03-28T09:12:48.793+00:00 [INFO] Starting audit worker 2
2025-03-28T09:12:48.793+00:00 [INFO] Starting audit worker 3
2025-03-28T09:12:48.793+00:00 [INFO] Starting audit worker 4
2025-03-28T09:12:48.793+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:12:48.832+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:12:48.907+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:12:48.907+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:12:48.907+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:12:48.907+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:12:48.920+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:12:48.920+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:12:48.920+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:12:48.920+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:12:48.920+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:12:48.920+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:12:48.920+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:12:48.920+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:12:48.921+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:12:48.921+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:12:48.921+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:12:48.921+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:12:48.921+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:12:48.922+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 44651 Addr: 127.0.0.1:44651
2025-03-28T09:12:49.794+00:00 [INFO] Starting audit update stream
2025-03-28T09:12:49.922+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:12:49.922+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:12:49.922+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:12:49.922+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:12:49.922+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:12:49.922+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:12:49.922+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:12:49.922+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:12:49.922+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:12:50.138+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:12:50.138+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:12:50.138+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:12:50.138+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:12:50.138+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:12:50.138+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:12:50.257+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:12:50.258+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:12:50.258+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:12:50.258+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:12:50.268+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:12:50.268+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:12:50.268+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:12:50.268+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:12:50.268+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:12:50.269+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 41847 Addr: 127.0.0.1:41847
2025-03-28T09:12:51.269+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:12:51.269+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:12:51.269+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:12:51.269+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:12:51.269+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:12:51.270+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:12:51.270+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:12:51.270+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:12:51.270+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:12:51.436+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:12:51.437+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:12:51.437+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:12:51.437+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:12:51.437+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:12:51.437+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:12:51.437+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:12:51.438+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:12:51.469+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:12:51.469+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:12:51.469+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:12:51.469+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:12:51.498+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:12:51.498+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:12:51.525+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:12:51.525+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:12:51.525+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:12:51.525+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:12:51.525+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:12:51.525+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:12:51.530+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:12:51.530+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:12:51.553+00:00 [INFO] Refreshed cluster information (rev:195)
2025-03-28T09:12:51.584+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:51.587+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:12:51.598+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:12:51.603+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:12:51.603+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:12:51.604+00:00 [INFO] [0xc0001b1408:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:12:51.609+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:12:51.617+00:00 [INFO] [0xc0001b1408:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:13:38.816+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=362
2025-03-28T09:13:38.816+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:13:38.816+00:00 [INFO] Waiting for initial settings
2025-03-28T09:13:38.821+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:13:38.821+00:00 [INFO] Initial settings received
2025-03-28T09:13:38.821+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:13:38.822+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:13:38.825+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:13:38.825+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:13:38.825+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:13:38.827+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:13:39.374+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:13:39.374+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:13:39.375+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:13:39.375+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:13:39.375+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:13:39.397+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:13:39.414+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:13:39.463+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:13:39.463+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:13:39.502+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:13:39.502+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:13:39.502+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:13:39.506+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:13:39.506+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:13:39.539+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:13:39.540+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":16222424,"gc.pause.percent":0,"gc.pause.time":"15.151952ms","healthy":true,"host.memory.free":754991104,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:13:39.54Z","memory.system":18437384,"memory.total":11891328,"memory.usage":8850064,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":104304640,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"143.972539ms","version":"7.6.5-N1QL"}
2025-03-28T09:13:39.545+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:13:39.545+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:13:39.545+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:13:39.545+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:13:39.545+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:13:39.550+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:13:39.634+00:00 [INFO] audit: created new audit service
2025-03-28T09:13:39.659+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:13:39.659+00:00 [INFO] Starting audit worker 2
2025-03-28T09:13:39.659+00:00 [INFO] Starting audit worker 1
2025-03-28T09:13:39.659+00:00 [INFO] Starting audit worker 3
2025-03-28T09:13:39.659+00:00 [INFO] Starting audit worker 4
2025-03-28T09:13:39.659+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:13:39.749+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:13:39.807+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 26] will report aggregate recorder stats every 5m0s 
2025-03-28T09:13:39.913+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:13:39.913+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:13:39.913+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:13:39.914+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:13:39.931+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:13:39.931+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:13:39.931+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:13:39.931+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:13:39.931+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:13:39.931+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:13:39.931+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:13:39.931+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:13:39.931+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:13:39.932+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:13:39.932+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:13:39.932+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:13:39.932+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 38829 Addr: 127.0.0.1:38829
2025-03-28T09:13:39.932+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:13:40.660+00:00 [INFO] Starting audit update stream
2025-03-28T09:13:40.933+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:13:40.933+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:13:40.933+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:13:40.933+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:13:40.933+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:13:40.933+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:13:40.933+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:13:40.933+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:13:40.934+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:13:41.097+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:13:41.097+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:13:41.097+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:13:41.097+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:13:41.097+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:13:41.097+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:13:41.145+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:13:41.145+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:13:41.145+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:13:41.146+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:13:41.154+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:13:41.155+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:13:41.155+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:13:41.155+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:13:41.155+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:13:41.155+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 41979 Addr: 127.0.0.1:41979

2025-03-28T09:15:00.357+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=360
2025-03-28T09:15:00.357+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:15:00.357+00:00 [INFO] Waiting for initial settings
2025-03-28T09:15:00.371+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:15:00.373+00:00 [INFO] Initial settings received
2025-03-28T09:15:00.375+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:15:00.387+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:15:00.403+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:15:00.403+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:15:00.403+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:15:00.405+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:15:01.334+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 50] will report aggregate recorder stats every 5m0s 
2025-03-28T09:15:01.367+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:15:01.367+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:15:01.367+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:15:01.367+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:15:01.367+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:15:01.456+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:15:01.489+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:15:01.541+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:01.541+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:01.564+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:01.565+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T09:15:01.567+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:15:01.567+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:15:01.568+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:15:01.618+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:15:01.623+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:15:01.623+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:15:01.623+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:01.623+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:01.623+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:01.627+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:15:01.647+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":12946688,"gc.pause.percent":0,"gc.pause.time":"652.552Âµs","healthy":true,"host.memory.free":703057920,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:15:01.647Z","memory.system":22631688,"memory.total":11999040,"memory.usage":9210808,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":107032576,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":61,"uptime":"191.540096ms","version":"7.6.5-N1QL"}
2025-03-28T09:15:01.678+00:00 [INFO] audit: created new audit service
2025-03-28T09:15:01.723+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:15:01.724+00:00 [INFO] Starting audit worker 1
2025-03-28T09:15:01.724+00:00 [INFO] Starting audit worker 2
2025-03-28T09:15:01.724+00:00 [INFO] Starting audit worker 3
2025-03-28T09:15:01.724+00:00 [INFO] Starting audit worker 4
2025-03-28T09:15:01.724+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:15:01.796+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:15:01.855+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:15:01.855+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:15:01.855+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:15:01.857+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:15:01.867+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:15:01.867+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:15:01.867+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:15:01.867+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:15:01.867+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:15:01.867+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:15:01.867+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:15:01.867+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:15:01.868+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:15:01.875+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:15:01.875+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:15:01.875+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:15:01.875+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 40287 Addr: 127.0.0.1:40287
2025-03-28T09:15:01.875+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:15:02.725+00:00 [INFO] Starting audit update stream
2025-03-28T09:15:02.876+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:15:02.876+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:15:02.876+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:15:02.876+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:15:02.876+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:15:02.876+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:15:02.876+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:15:02.876+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:15:02.878+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:15:03.022+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:15:03.022+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:15:03.022+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:15:03.022+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:15:03.022+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:15:03.022+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:15:03.064+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:15:03.064+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:15:03.064+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:15:03.064+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:15:03.073+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:15:03.073+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:15:03.073+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:15:03.074+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:15:03.074+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:15:03.074+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 42981 Addr: 127.0.0.1:42981
2025-03-28T09:15:04.075+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:15:04.075+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:15:04.075+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:15:04.075+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:15:04.075+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:15:04.075+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:15:04.075+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:15:04.075+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:15:04.075+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:15:04.354+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:15:04.354+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:15:04.354+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:15:04.354+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:15:04.354+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:15:04.356+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:15:04.356+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:15:04.360+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:15:04.371+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:15:04.372+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:15:04.372+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:15:04.372+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:15:04.414+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:15:04.414+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:15:04.437+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:15:04.437+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:15:04.437+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:15:04.437+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:15:04.437+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:15:04.437+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:15:04.448+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:15:04.448+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:15:04.573+00:00 [INFO] Refreshed cluster information (rev:208)
2025-03-28T09:15:04.605+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:04.607+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:15:04.644+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:15:04.652+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:15:04.652+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:15:04.653+00:00 [INFO] [0xc00053c788:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:15:04.658+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:15:04.664+00:00 [INFO] [0xc00053c788:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:15:47.705+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=362
2025-03-28T09:15:47.705+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:15:47.705+00:00 [INFO] Waiting for initial settings
2025-03-28T09:15:47.718+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:15:47.718+00:00 [INFO] Initial settings received
2025-03-28T09:15:47.720+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:15:47.722+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:15:47.725+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:15:47.726+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:15:47.726+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:15:47.731+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:15:48.688+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 38] will report aggregate recorder stats every 5m0s 
2025-03-28T09:15:48.958+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:15:48.958+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:15:48.958+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:15:48.958+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:15:48.958+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:15:48.994+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:15:49.012+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:15:49.060+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:49.060+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:49.116+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:49.116+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:15:49.116+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:15:49.118+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:15:49.118+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:15:49.119+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:15:49.154+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:15:49.163+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":17018584,"gc.pause.percent":0,"gc.pause.time":"6.769535ms","healthy":true,"host.memory.free":678617088,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:15:49.162Z","memory.system":18437384,"memory.total":11936504,"memory.usage":8892040,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":102617088,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":60,"uptime":"171.953787ms","version":"7.6.5-N1QL"}
2025-03-28T09:15:49.164+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:15:49.164+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:15:49.164+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:49.164+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:49.164+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:15:49.166+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:15:49.213+00:00 [INFO] audit: created new audit service
2025-03-28T09:15:49.243+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:15:49.243+00:00 [INFO] Starting audit worker 2
2025-03-28T09:15:49.243+00:00 [INFO] Starting audit worker 1
2025-03-28T09:15:49.244+00:00 [INFO] Starting audit worker 3
2025-03-28T09:15:49.244+00:00 [INFO] Starting audit worker 4
2025-03-28T09:15:49.244+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:15:49.319+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:15:49.489+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:15:49.489+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:15:49.489+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:15:49.490+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:15:49.507+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:15:49.507+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:15:49.507+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:15:49.507+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:15:49.507+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:15:49.507+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:15:49.507+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:15:49.507+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:15:49.507+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:15:49.511+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:15:49.511+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:15:49.511+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:15:49.512+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 43269 Addr: 127.0.0.1:43269
2025-03-28T09:15:49.512+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:15:50.244+00:00 [INFO] Starting audit update stream
2025-03-28T09:15:50.513+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:15:50.513+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:15:50.513+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:15:50.513+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:15:50.513+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:15:50.513+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:15:50.513+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:15:50.513+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:15:50.513+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:15:50.724+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:15:50.724+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:15:50.724+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:15:50.724+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:15:50.724+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:15:50.725+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:15:50.780+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:15:50.780+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:15:50.780+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:15:50.781+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:15:50.789+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:15:50.789+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:15:50.789+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:15:50.789+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:15:50.789+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:15:50.789+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 39949 Addr: 127.0.0.1:39949
2025-03-28T09:15:51.790+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:15:51.790+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:15:51.790+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:15:51.790+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:15:51.790+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:15:51.790+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:15:51.790+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:15:51.790+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:15:51.790+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:15:51.905+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:15:51.905+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:15:51.905+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:15:51.905+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:15:51.905+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:15:51.905+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:15:51.905+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:15:51.906+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:15:51.918+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:15:51.918+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:15:51.918+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:15:51.918+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:15:51.939+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:15:51.939+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:15:51.952+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:15:51.952+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:15:51.952+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:15:51.952+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:15:51.952+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:15:51.952+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:15:51.956+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:15:51.956+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:15:51.977+00:00 [INFO] Refreshed cluster information (rev:213)
2025-03-28T09:15:51.991+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:51.992+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:15:52.001+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:15:52.005+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:15:52.005+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:15:52.005+00:00 [INFO] [0xc00028b908:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:15:52.007+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:15:52.014+00:00 [INFO] [0xc00028b908:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:16:25.599+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=336
2025-03-28T09:16:25.599+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:16:25.599+00:00 [INFO] Waiting for initial settings
2025-03-28T09:16:25.602+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:16:25.602+00:00 [INFO] Initial settings received
2025-03-28T09:16:25.602+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:16:25.602+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:16:25.604+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:16:25.604+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:16:25.604+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:16:25.605+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:16:26.581+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 27] will report aggregate recorder stats every 5m0s 
2025-03-28T09:16:26.691+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:16:26.691+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:16:26.691+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:16:26.691+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:16:26.691+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:16:26.726+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:16:26.750+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:16:26.822+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:16:26.822+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:16:26.903+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:16:26.904+00:00 [INFO] Temporary file path set to: /tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:16:26.905+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:16:26.905+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:16:26.906+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:16:26.974+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:16:26.982+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:16:26.982+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:16:26.982+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:16:26.982+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:16:26.982+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:16:26.994+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18291280,"gc.pause.percent":0,"gc.pause.time":"11.328503ms","healthy":true,"host.memory.free":725827584,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:16:26.984Z","memory.system":22631688,"memory.total":11974064,"memory.usage":8928688,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":95219712,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"260.348043ms","version":"7.6.5-N1QL"}
2025-03-28T09:16:26.995+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:16:27.017+00:00 [INFO] audit: created new audit service
2025-03-28T09:16:27.053+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:16:27.053+00:00 [INFO] Starting audit worker 1
2025-03-28T09:16:27.053+00:00 [INFO] Starting audit worker 2
2025-03-28T09:16:27.053+00:00 [INFO] Starting audit worker 3
2025-03-28T09:16:27.053+00:00 [INFO] Starting audit worker 4
2025-03-28T09:16:27.053+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:16:27.098+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:16:27.155+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:16:27.156+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:16:27.156+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:16:27.156+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:16:27.166+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:16:27.166+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:16:27.167+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:16:27.167+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:16:27.167+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:16:27.167+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:16:27.167+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:16:27.167+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:16:27.167+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:16:27.169+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:16:27.169+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:16:27.169+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:16:27.169+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 45293 Addr: 127.0.0.1:45293
2025-03-28T09:16:27.169+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:16:28.054+00:00 [INFO] Starting audit update stream
2025-03-28T09:16:28.170+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:16:28.170+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:16:28.170+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:16:28.170+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:16:28.170+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:16:28.170+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:16:28.170+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:16:28.170+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:16:28.170+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:16:28.308+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:16:28.308+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:16:28.308+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:16:28.308+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:16:28.308+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:16:28.308+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:16:28.355+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:16:28.355+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:16:28.355+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:16:28.356+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:16:28.362+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:16:28.362+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:16:28.362+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:16:28.363+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:16:28.363+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:16:28.363+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 38063 Addr: 127.0.0.1:38063
2025-03-28T09:16:29.364+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:16:29.364+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:16:29.364+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:16:29.364+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:16:29.364+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:16:29.364+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:16:29.364+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:16:29.364+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:16:29.364+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:16:29.526+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:16:29.526+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:16:29.526+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:16:29.526+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:16:29.526+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:16:29.526+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:16:29.526+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:16:29.527+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:16:29.544+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:16:29.544+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:16:29.544+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:16:29.544+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:16:29.579+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:16:29.579+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:16:29.601+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:16:29.601+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:16:29.601+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:16:29.601+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:16:29.601+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:16:29.601+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:16:29.605+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:16:29.605+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:16:29.643+00:00 [INFO] Refreshed cluster information (rev:218)
2025-03-28T09:16:29.676+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:16:29.678+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:16:29.693+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:16:29.698+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:16:29.698+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:16:29.698+00:00 [INFO] [0xc0002bf908:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:16:29.700+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:16:29.708+00:00 [INFO] [0xc0002bf908:UsersBDD:a6b98613:0001] Updater: received first manifest id 1

2025-03-28T09:17:09.551+00:00 [INFO] cbq-engine starting version=7.6.5-N1QL go-version=go1.22.7 pid=339
2025-03-28T09:17:09.551+00:00 [INFO] Current nofiles rlimit: 1048576 (max: 1048576)
2025-03-28T09:17:09.551+00:00 [INFO] Waiting for initial settings
2025-03-28T09:17:09.554+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:17:09.555+00:00 [INFO] Initial settings received
2025-03-28T09:17:09.555+00:00 [INFO] Soft memory limit: 3.348 GiB (90% of total)
2025-03-28T09:17:09.556+00:00 [INFO] FFDC: Capture path: /opt/couchbase/var/lib/couchbase/logs
2025-03-28T09:17:09.558+00:00 [INFO] FFDC: Found 0 existing dump file(s); 0 bytes.
2025-03-28T09:17:09.558+00:00 [Info] GSIClient DeploymentModel is set to: default, input: default
2025-03-28T09:17:09.558+00:00 [INFO] Temporary file path set to: /tmp, quota: 0
2025-03-28T09:17:09.559+00:00 [INFO] Initialization of cbauth succeeded
2025-03-28T09:17:10.007+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:17:10.008+00:00 [Warn] certifcate location is missing.  Cannot refresh certifcate
2025-03-28T09:17:10.007+00:00 [INFO] New store created with url http://127.0.0.1:8091
2025-03-28T09:17:10.008+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:17:10.008+00:00 [WARN] n1fty: cannot refresh certificate, certificate location is missing
2025-03-28T09:17:10.037+00:00 [INFO] Bucket N1QL_SYSTEM_BUCKET not found: No bucket named N1QL_SYSTEM_BUCKET
2025-03-28T09:17:10.057+00:00 [INFO] New Value for curl allowed list <ud>map[all_access:false allowed_transformed_urls:[] allowed_urls:[] disallowed_transformed_urls:[] disallowed_urls:[]]</ud>
2025-03-28T09:17:10.097+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:17:10.099+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:17:10.138+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:17:10.140+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 0
2025-03-28T09:17:10.140+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:17:10.143+00:00 [INFO] Temporary file path set to: /opt/couchbase/var/lib/couchbase/tmp, quota: 5368709120 (5.0 GiB)
2025-03-28T09:17:10.144+00:00 [INFO] Query Configuration changed for atrcollection. New value is
2025-03-28T09:17:10.144+00:00 [INFO] Query Configuration changed for auto-prepare. New value is false
2025-03-28T09:17:10.144+00:00 [INFO] Query Configuration changed for cleanupclientattempts. New value is true
2025-03-28T09:17:10.144+00:00 [INFO] Query Configuration changed for cleanuplostattempts. New value is true
2025-03-28T09:17:10.144+00:00 [INFO] Query Configuration changed for cleanupwindow. New value is 1m0s
2025-03-28T09:17:10.144+00:00 [INFO] Query Configuration changed for completed-limit. New value is 4000
2025-03-28T09:17:10.144+00:00 [INFO] Query Configuration changed for completed-max-plan-size. New value is 262144
2025-03-28T09:17:10.144+00:00 [INFO] Query Configuration changed for completed-stream-size. New value is 0
2025-03-28T09:17:10.145+00:00 [INFO] Query Configuration changed for completed-threshold. New value is 1s
2025-03-28T09:17:10.145+00:00 [INFO] Query Configuration changed for controls. New value is false
2025-03-28T09:17:10.145+00:00 [INFO] Query Configuration changed for cpuprofile. New value is
2025-03-28T09:17:10.145+00:00 [INFO] Query Configuration changed for debug. New value is false
2025-03-28T09:17:10.145+00:00 [INFO] Query Configuration changed for duration-style. New value is legacy
2025-03-28T09:17:10.145+00:00 [INFO] Query Configuration changed for functions-limit. New value is 16384
2025-03-28T09:17:10.145+00:00 [INFO] Query Configuration changed for gc-percent. New value is 0
2025-03-28T09:17:10.145+00:00 [INFO] Query Configuration changed for keep-alive-length. New value is 0
2025-03-28T09:17:10.146+00:00 [INFO] Query Configuration changed for loglevel. New value is INFO
2025-03-28T09:17:10.146+00:00 [INFO] Query Configuration changed for max-index-api. New value is 4
2025-03-28T09:17:10.146+00:00 [INFO] Query Configuration changed for max-parallelism. New value is 1
2025-03-28T09:17:10.146+00:00 [INFO] Query Configuration changed for memory-quota. New value is 0
2025-03-28T09:17:10.146+00:00 [INFO] Query Configuration changed for memprofile. New value is
2025-03-28T09:17:10.146+00:00 [INFO] Query Configuration changed for mutexprofile. New value is false
2025-03-28T09:17:10.146+00:00 [INFO] Query Configuration changed for n1ql-feat-ctrl. New value is 76 (0x4c), Encoded plans (0x4) disabled, Golang UDFs (0x8) disabled, (Reserved for future use) (0x40) disabled
2025-03-28T09:17:10.147+00:00 [INFO] Query Configuration changed for node-quota. New value is 0
2025-03-28T09:17:10.147+00:00 [INFO] Query Configuration changed for node-quota-val-percent. New value is 67
2025-03-28T09:17:10.147+00:00 [INFO] Query Configuration changed for num-cpus. New value is 4
2025-03-28T09:17:10.147+00:00 [INFO] Query Configuration changed for numatrs. New value is 1024
2025-03-28T09:17:10.147+00:00 [INFO] Query Configuration changed for pipeline-batch from 512 to 16
2025-03-28T09:17:10.147+00:00 [INFO] Query Configuration changed for pipeline-cap. New value is 512
2025-03-28T09:17:10.147+00:00 [INFO] Query Configuration changed for plus-servicers. New value is 64
2025-03-28T09:17:10.147+00:00 [INFO] Query Configuration changed for prepared-limit. New value is 16384
2025-03-28T09:17:10.147+00:00 [INFO] Query Configuration changed for pretty. New value is false
2025-03-28T09:17:10.154+00:00 [INFO] Query Configuration changed for profile. New value is off
2025-03-28T09:17:10.154+00:00 [INFO] Query Configuration changed for request-error-limit. New value is 0
2025-03-28T09:17:10.154+00:00 [INFO] Query Configuration changed for request-size-cap. New value is 0
2025-03-28T09:17:10.154+00:00 [INFO] Query Configuration changed for scan-cap. New value is 512
2025-03-28T09:17:10.154+00:00 [INFO] Query Configuration changed for servicers. New value is 16
2025-03-28T09:17:10.154+00:00 [INFO] Query Configuration changed for timeout. New value is 0s
2025-03-28T09:17:10.154+00:00 [INFO] Query Configuration changed for txtimeout. New value is 0s
2025-03-28T09:17:10.154+00:00 [INFO] Query Configuration changed for use-cbo. New value is true
2025-03-28T09:17:10.154+00:00 [INFO] Query Configuration changed for use-replica. New value is unset
2025-03-28T09:17:10.204+00:00 [INFO] Changing GC percent from 0 to 200
2025-03-28T09:17:10.206+00:00 [INFO] Query Engine Stats {"cores":4,"cpu.sys.percent":0,"cpu.user.percent":0,"ffdc.total":0,"gc.num":18161584,"gc.pause.percent":0,"gc.pause.time":"38.464539ms","healthy":true,"host.memory.free":751869952,"host.memory.quota":0,"host.memory.total":3994673152,"host.memory.value_quota":0,"load":0,"loadfactor":33,"local.time":"2025-03-28T09:17:10.206Z","memory.system":18175240,"memory.total":11908760,"memory.usage":8860928,"node.allocated.values":1,"node.memory.usage":83886080,"process.memory.usage":1,"process.percore.cpupercent":0,"process.rss":104984576,"process.service.usage":0,"request.active.count":0,"request.completed.count":0,"request.per.sec.15min":0,"request.per.sec.1min":0,"request.per.sec.5min":0,"request.prepared.percent":0,"request.queued.count":0,"request_time.80percentile":"0s","request_time.95percentile":"0s","request_time.99percentile":"0s","request_time.mean":"0s","request_time.median":"0s","servicers.paused.count":0,"servicers.paused.total":0,"temp.hwm":0,"temp.usage":0,"total.threads":62,"uptime":"169.61808ms","version":"7.6.5-N1QL"}
2025-03-28T09:17:10.210+00:00 [INFO] New settings received: {"cleanupclientattempts":true,"cleanuplostattempts":true,"cleanupwindow":"60s","completed-limit":4000,"completed-max-plan-size":262144,"completed-threshold":1000,"loglevel":"info","max-parallelism":1,"memory-quota":0,"n1ql-feat-ctrl":76,"node-quota":0,"node-quota-val-percent":67,"num-cpus":0,"numatrs":1024,"pipeline-batch":16,"pipeline-cap":512,"prepared-limit":16384,"query.settings.curl_whitelist":{"all_access":false,"allowed_urls":[],"disallowed_urls":[]},"query.settings.tmp_space_dir":"/opt/couchbase/var/lib/couchbase/tmp","query.settings.tmp_space_size":5120,"scan-cap":512,"timeout":0,"txtimeout":"0ms","use-cbo":true,"use-replica":"unset"}
2025-03-28T09:17:10.210+00:00 [INFO] Settings notifier from metakv
2025-03-28T09:17:10.210+00:00 [INFO] GSI indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:17:10.210+00:00 [INFO] n1fty indexer settings have been updated map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:17:10.210+00:00 [Info] GSIC - Setting config map[query_tmpspace_dir:/opt/couchbase/var/lib/couchbase/tmp query_tmpspace_limit:5120]
2025-03-28T09:17:10.210+00:00 [INFO] num-cpus updated to 0.  Change will take place on restart.
2025-03-28T09:17:10.324+00:00 [INFO] audit: created new audit service
2025-03-28T09:17:10.348+00:00 [INFO] cbq-engine started version=7.6.5-N1QL ds_version=7.6.5-5704-enterprise datastore=http://127.0.0.1:8091 max-concurrency=4 servicers=16 plus-servicers=64 request-cap=256 request-size-cap=67108864 max-index-api=4 gc-percent=200
2025-03-28T09:17:10.349+00:00 [INFO] Starting audit worker 1
2025-03-28T09:17:10.349+00:00 [INFO] Starting audit worker 2
2025-03-28T09:17:10.349+00:00 [INFO] Starting audit worker 3
2025-03-28T09:17:10.349+00:00 [INFO] Starting audit worker 4
2025-03-28T09:17:10.349+00:00 [INFO] Starting audit settings worker 1.
2025-03-28T09:17:10.385+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:17:10.437+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:17:10.437+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:17:10.438+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:17:10.442+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:17:10.463+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:17:10.463+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:17:10.463+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating Meta KV store driver.
2025-03-28T09:17:10.463+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating shared store.
2025-03-28T09:17:10.463+00:00 [INFO] jsevaluator: impl::sharedStorageEngineOps::setupEssentials: Completed creating admin service.
2025-03-28T09:17:10.463+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:17:10.463+00:00 [INFO] jsevaluator: SharedStore::PeriodicScan: Starting periodic scan of libraries.
2025-03-28T09:17:10.463+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions/v1/cbq-engine/"
2025-03-28T09:17:10.463+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/functions_metadata/v1/cbq-engine/"
2025-03-28T09:17:10.475+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:17:10.476+00:00 [INFO] jsevaluator: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:17:10.478+00:00 [INFO] jsevaluator: MkvStoreDriver::ObserveChanges: Observing metakv. PathPrefix: "/evaluator/cbq-engine/v1/config/"
2025-03-28T09:17:10.480+00:00 [INFO] jsevaluator: Starting UDF Query Server on port 40551 Addr: 127.0.0.1:40551
2025-03-28T09:17:10.498+00:00 [INFO] jsevaluator: impl::Engine::startServices: Default scope is not admin.
2025-03-28T09:17:10.498+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:17:10.498+00:00 [INFO] jsevaluator: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:17:10.498+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:17:10.498+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:17:10.498+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:17:10.498+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:17:10.498+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:17:10.499+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:17:10.499+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:17:10.532+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 52] will report aggregate recorder stats every 5m0s 
2025-03-28T09:17:10.823+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:17:10.823+00:00 [INFO] jsevaluator: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:17:10.823+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:17:10.823+00:00 [INFO] jsevaluator: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:17:10.823+00:00 [INFO] Started jsevaluator for external jsevaluator with 32 runners
2025-03-28T09:17:10.823+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine creation.
2025-03-28T09:17:10.865+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed v8wrapper.engine initialization.
2025-03-28T09:17:10.865+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up engine storage ops' log config.
2025-03-28T09:17:10.865+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's system log config.
2025-03-28T09:17:10.867+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting evaluator's JsRestrictionsEnabled flag to true.
2025-03-28T09:17:10.877+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creation of compilation worker.
2025-03-28T09:17:10.877+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new library unload notifier.
2025-03-28T09:17:10.877+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed setting up essentials of engine storage ops.
2025-03-28T09:17:10.877+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed creating new dynamic engine configuration wrapper.
2025-03-28T09:17:10.877+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::startServices: UDF Query feature enabled.
2025-03-28T09:17:10.878+00:00 [INFO] jsevaluator for internal javascript: Starting UDF Query Server on port 35743 Addr: 127.0.0.1:35743
2025-03-28T09:17:11.350+00:00 [INFO] Starting audit update stream
2025-03-28T09:17:11.878+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Services are healthy.
2025-03-28T09:17:11.878+00:00 [INFO] jsevaluator for internal javascript: impl::Engine::Initialize: Completed engine initialization.
2025-03-28T09:17:11.878+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed client engine initialization.
2025-03-28T09:17:11.878+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine storage ops setup.
2025-03-28T09:17:11.878+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Configure: Completed engine configuration.
2025-03-28T09:17:11.878+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine is configured.
2025-03-28T09:17:11.878+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Starting engine.
2025-03-28T09:17:11.878+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Creating and initializing new evaluator.
2025-03-28T09:17:11.878+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Populating worker pool by 32.
2025-03-28T09:17:12.073+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed populating worker pool by 32.
2025-03-28T09:17:12.073+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::NewEvaluator: Completed creating and initializing new evaluator.
2025-03-28T09:17:12.073+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Completed creating new worker pool instance.
2025-03-28T09:17:12.073+00:00 [INFO] jsevaluator for internal javascript: n1ql_impl::Engine::Start: Engine has been started.
2025-03-28T09:17:12.073+00:00 [INFO] Started jsevaluator for internal javascript with 32 runners
2025-03-28T09:17:12.074+00:00 [INFO] HttpEndpoint: Listen Address - [::]:8093
2025-03-28T09:17:12.074+00:00 [INFO] HttpEndpoint: Listen Address - 0.0.0.0:8093
2025-03-28T09:17:12.074+00:00 [INFO] Certificates have been refreshed by ns server
2025-03-28T09:17:12.084+00:00 [Info] Receive security change notification. encryption=false
2025-03-28T09:17:12.084+00:00 [INFO] HttpEndpoint: ListenTLS Address - [::]:18093
2025-03-28T09:17:12.084+00:00 [INFO] HttpEndpoint: ListenTLS Address - 0.0.0.0:18093
2025-03-28T09:17:12.084+00:00 [INFO] Updating node-to-node encryption level: {EncryptData:false DisableNonSSLPorts:false}
2025-03-28T09:17:12.109+00:00 [INFO] n1fty: Receive security change notification
2025-03-28T09:17:12.109+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:17:12.128+00:00 [INFO] n1fty: Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:17:12.128+00:00 [INFO] n1fty: updateConnPools start, event:SecurityConfigChange
2025-03-28T09:17:12.128+00:00 [INFO] n1fty: onSecurityConfigChange, indexerAvail:false
2025-03-28T09:17:12.128+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:17:12.128+00:00 [INFO] n1fty: updateConnPools start, event:TopologyChange
2025-03-28T09:17:12.128+00:00 [INFO] n1fty: onTopologyChange, indexerAvail:false
2025-03-28T09:17:12.132+00:00 [INFO] n1fty: updateConnPools done, hosts:[]
2025-03-28T09:17:12.132+00:00 [ERROR] n1fty: failed to update connection pools on topologyChange, err: GetNodeDefs, err: hosts unavailable
2025-03-28T09:17:12.239+00:00 [INFO] Refreshed cluster information (rev:223)
2025-03-28T09:17:12.239+00:00 [INFO] Refreshed cluster information (rev:223)
2025-03-28T09:17:12.244+00:00 [INFO] UDF migration: Evaluating migration state
2025-03-28T09:17:12.267+00:00 [INFO] Refreshed bucket UsersBDD (a6b98613)
2025-03-28T09:17:12.274+00:00 [INFO] Initial topology 1/1: e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:17:12.279+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
2025-03-28T09:17:12.280+00:00 [INFO] Loaded bucket UsersBDD (a6b98613)
2025-03-28T09:17:12.280+00:00 [INFO] [0xc000211408:UsersBDD:a6b98613:0001] Updater: Streaming http://127.0.0.1:8091/pools/default/bucketsStreaming/UsersBDD
2025-03-28T09:17:12.283+00:00 [INFO] CBO stats migration: Evaluating migration state
2025-03-28T09:17:12.295+00:00 [INFO] [0xc000211408:UsersBDD:a6b98613:0001] Updater: received first manifest id 1
2025-03-28T09:17:12.312+00:00 [INFO] Unable to retrieve collections info for bucket UsersBDD: Unable to get connection to retrieve collections manifest: MCResponse status=KEY_ENOENT, opcode=0x89, opaque=0, msg: . No collections access to bucket UsersBDD.
